<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>false</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>API_Process_Error__c</fullName>
        <externalId>false</externalId>
        <label>API Process Error</label>
        <length>131072</length>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>2</visibleLines>
    </fields>
    <fields>
        <fullName>ASE_MACD_Lock__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>ASE MACD Lock</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>ASE_Quote__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>ASE Quote</label>
        <referenceTo>Apttus_Proposal__Proposal__c</referenceTo>
        <relationshipLabel>RDS-Deal Hash</relationshipLabel>
        <relationshipName>RDS_Deal_Hash</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Action__c</fullName>
        <externalId>false</externalId>
        <label>Action</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>NEW</fullName>
                    <default>true</default>
                    <label>NEW</label>
                </value>
                <value>
                    <fullName>UPDATE</fullName>
                    <default>false</default>
                    <label>UPDATE</label>
                </value>
                <value>
                    <fullName>UPDATE_PREMISE</fullName>
                    <default>false</default>
                    <label>UPDATE_PREMISE</label>
                </value>
                <value>
                    <fullName>SOFT_DISCONNECT</fullName>
                    <default>false</default>
                    <label>SOFT_DISCONNECT</label>
                </value>
                <value>
                    <fullName>ADD_PREMISE</fullName>
                    <default>false</default>
                    <label>ADD_PREMISE</label>
                </value>
                <value>
                    <fullName>CHANGE_FEATURE</fullName>
                    <default>false</default>
                    <label>CHANGE_FEATURE</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Application_ID__c</fullName>
        <defaultValue>&quot;20991&quot;</defaultValue>
        <externalId>false</externalId>
        <label>Application ID</label>
        <length>60</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Archive_Status__c</fullName>
        <description>This field will be true only for Cancel inflight scenario 2 &amp; 3 before sending update deal hash call for inflight. See CancelInflight_Controller</description>
        <externalId>false</externalId>
        <label>Archive Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Success</fullName>
                    <default>false</default>
                    <label>Success</label>
                </value>
                <value>
                    <fullName>Failed</fullName>
                    <default>false</default>
                    <label>Failed</label>
                </value>
                <value>
                    <fullName>In Progress</fullName>
                    <default>false</default>
                    <label>In Progress</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Archive_requested__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Archive Requested</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Bundle_Account_Number__c</fullName>
        <externalId>false</externalId>
        <label>Bundle Account Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>CR_Auto_UDH_Sucessful__c</fullName>
        <defaultValue>false</defaultValue>
        <description>This field will be set to True after the Auto UDH call gets successful for the CR flow</description>
        <externalId>false</externalId>
        <inlineHelpText>This field will be set to True after the Auto UDH call gets successful for the CR flow</inlineHelpText>
        <label>CR Auto UDH Successful</label>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Charge_Element_ID__c</fullName>
        <externalId>false</externalId>
        <label>Charge Element ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Compare_Rate_Plan_Start_Date_Start_Dat__c</fullName>
        <description>Only for Reporting Purpose for ITS-007368</description>
        <externalId>false</externalId>
        <formula>IF(DATEVALUE(Rate_Stability_Date__c)= DATEVALUE(Start_Date__c) , TRUE, FALSE)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Compare Rate Stability Date &amp; Start Dat</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Compare_Rate_Stability_Date_Start_Dat__c</fullName>
        <description>Only for Reporting Purpose for ITS-007368</description>
        <externalId>false</externalId>
        <formula>IF(DATEVALUE(Rate_Stability_Date__c)= DATEVALUE(Start_Date__c) , TRUE, FALSE)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Compare Rate Stability Date &amp; Start Dat</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Competitive_Discount_Indicator__c</fullName>
        <externalId>false</externalId>
        <label>Competitive Discount Indicator</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ContractEndDate__c</fullName>
        <externalId>false</externalId>
        <formula>TEXT(MONTH(Contract_End_Date_Hidden__c))+&quot;/&quot; +TEXT(DAY(Contract_End_Date_Hidden__c))+&quot;/&quot; +TEXT(YEAR(Contract_End_Date_Hidden__c))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>ContractEndDate</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Contract_Action_Tooltips__c</fullName>
        <externalId>false</externalId>
        <formula>IF(Contract_Renewal_Status__c &lt;&gt; &apos;Expired&apos;,&quot;Only expired contracts are eligible for renewal.&quot;, 
IF(!IsEligibleForContract__c,&quot;One or more sites has Pending status. All the sites must be Active to renew the contract.&quot;, 
IF(Contract_Renewal_Lock__c,&quot;This contract is currently being worked on by another user. Please try later.&quot;,
IF(TEXT(Contract_Renewal_Stage__c) == &apos;Offline Process Initiated&apos; || TEXT(Contract_Renewal_Stage__c) == &apos;Renewal Request Pending&apos;,&quot;A contract renewal request is currently Pending&quot;, 
IF(TEXT(Contract_Renewal_Stage__c) == &apos;Special Pricing Requested&apos;,&quot;A Special Pricing request is currently Pending.&quot;,&apos;&apos;)))))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Contract Action Tooltips</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Contract_End_Date_Hidden__c</fullName>
        <externalId>false</externalId>
        <formula>IF(
  AND(
    MONTH(DATEVALUE(Start_Date__c)) = 2,
    DAY(DATEVALUE(Start_Date__c)) = 29,
    NOT( 
      OR( 
        MOD(YEAR(DATEVALUE(Start_Date__c)) + VALUE(Term__c)/12, 400 ) = 0, 
        AND( 
          MOD(YEAR(DATEVALUE(Start_Date__c)) + VALUE(Term__c)/12, 4 ) = 0,
          MOD(YEAR(DATEVALUE(Start_Date__c)) + VALUE(Term__c)/12, 100 ) != 0
        )
      )
    ) 
  ),
  DATE(YEAR(DATEVALUE(Start_Date__c)) + VALUE(Term__c)/12, 3, 1),
  DATE(YEAR(DATEVALUE(Start_Date__c)) + VALUE(Term__c)/12, MONTH(DATEVALUE(Start_Date__c)), DAY(DATEVALUE(Start_Date__c)) )
)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Contract End Date Hidden</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Contract_Number__c</fullName>
        <externalId>false</externalId>
        <label>Contract Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Contract_Renewal_Lock__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Contract Renewal Lock</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Contract_Renewal_LockedBy_UserId__c</fullName>
        <externalId>false</externalId>
        <label>Contract Renewal LockedBy UserId</label>
        <length>50</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Contract_Renewal_Stage__c</fullName>
        <externalId>false</externalId>
        <label>Contract Renewal Stage</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <restricted>true</restricted>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Offline Process Initiated</fullName>
                    <default>false</default>
                    <label>Offline Process Initiated</label>
                </value>
                <value>
                    <fullName>Special Pricing Requested</fullName>
                    <default>false</default>
                    <label>Special Pricing Requested</label>
                </value>
                <value>
                    <fullName>Renewal Request Pending</fullName>
                    <default>false</default>
                    <label>Renewal Request Pending</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Contract_Renewal_Status__c</fullName>
        <externalId>false</externalId>
        <formula>IF( Contract_End_Date_Hidden__c &gt; TODAY(), &quot;Active&quot;,&quot;Expired&quot;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Contract Renewal Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>CountOfAVPN__c</fullName>
        <description>To get the count of AVPN on deal hash so that manual flag can be set to true</description>
        <externalId>false</externalId>
        <label>CountOfAVPN</label>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Service_Type__c</field>
            <operation>equals</operation>
            <value>AVPN</value>
        </summaryFilterItems>
        <summaryForeignKey>RDS_Premise_Details__c.DealHash__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>CountOfRdsPremise__c</fullName>
        <description>This field contains the no of childs (RDS-Premise) )that RDS-Deal-hash contains.</description>
        <externalId>false</externalId>
        <label>CountOfRdsPremise</label>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Current_Version__c</field>
            <operation>equals</operation>
            <value>True</value>
        </summaryFilterItems>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Site_Status__c</field>
            <operation>notEqual</operation>
            <value>HARD_DISCONNECT, CANCELLED</value>
        </summaryFilterItems>
        <summaryForeignKey>RDS_Premise_Details__c.DealHash__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Currency_Code__c</fullName>
        <externalId>false</externalId>
        <label>Currency Code</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Current_Version_Count__c</fullName>
        <externalId>false</externalId>
        <label>Current Version Count</label>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Current_Version__c</field>
            <operation>equals</operation>
            <value>True</value>
        </summaryFilterItems>
        <summaryForeignKey>RDS_Premise_Details__c.DealHash__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Customer_Business_Name__c</fullName>
        <externalId>false</externalId>
        <label>Customer Business Name</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Customer_Defining_Group_ID__c</fullName>
        <externalId>false</externalId>
        <label>Customer Defining Group ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Customer_ID__c</fullName>
        <externalId>false</externalId>
        <label>Customer ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Customer_Site_Id__c</fullName>
        <externalId>false</externalId>
        <label>Customer Site Id</label>
        <length>50</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>DH_Quote_Id__c</fullName>
        <externalId>false</externalId>
        <label>DH Quote Id</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>DH_Quote_Name__c</fullName>
        <externalId>false</externalId>
        <label>DH Quote Name</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Deal_Hash_Status__c</fullName>
        <externalId>false</externalId>
        <label>Deal Hash Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>ACTIVE</fullName>
                    <default>false</default>
                    <label>ACTIVE</label>
                </value>
                <value>
                    <fullName>INACTIVE</fullName>
                    <default>false</default>
                    <label>INACTIVE</label>
                </value>
                <value>
                    <fullName>HISTORICAL</fullName>
                    <default>false</default>
                    <label>HISTORICAL</label>
                </value>
                <value>
                    <fullName>PENDING</fullName>
                    <default>false</default>
                    <label>PENDING</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Discount_Amount__c</fullName>
        <defaultValue>0.0</defaultValue>
        <externalId>false</externalId>
        <label>Discount Amount</label>
        <precision>4</precision>
        <required>false</required>
        <scale>1</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Discount_Plan_ID__c</fullName>
        <externalId>false</externalId>
        <label>Discount Plan ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Edit_Expired_Date__c</fullName>
        <description>For Calculating Expired Timstamp</description>
        <externalId>false</externalId>
        <label>Edit Expired Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Eligible_Deal_Hash__c</fullName>
        <externalId>false</externalId>
        <formula>IF(ServiceType__c == &quot;AVPN&quot; || ServiceType__c ==&quot;MIS&quot; || (ServiceType__c == &quot;ASE&quot; &amp;&amp;  Opportunity__r.Account.ASE_Product__c == true &amp;&amp; INCLUDES(Opportunity__r.Account.Product_Trainings_Completed__c, &quot;ASE&quot;)), true, false)</formula>
        <label>Eligible Deal Hash</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>End_Customer_Name__c</fullName>
        <externalId>false</externalId>
        <label>End Customer Name</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Exclude_from_SA_Contract_Subscription__c</fullName>
        <externalId>false</externalId>
        <formula>Opportunity__r.Account.Exclude_from_SA_Contract_Subscription__c</formula>
        <label>Exclude from SA Contract Subscription</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>GRID_Deal_Hash_Number__c</fullName>
        <externalId>false</externalId>
        <label>GRID Deal Hash Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Has_Cancel_Failed__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Has Cancel API Failed</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>HiddenField__c</fullName>
        <externalId>false</externalId>
        <formula>Opportunity__r.Discounted_Percentage__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>HiddenField</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>Hidden_Sub_Account_Number__c</fullName>
        <externalId>false</externalId>
        <formula>VALUE(Sub_Account_Number__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Hidden_Sub_Account_Number</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Hierarchy_ID__c</fullName>
        <externalId>false</externalId>
        <label>Hierarchy ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>IPFLEXDEAL__c</fullName>
        <description>For tracking if the  master Deal has a IPflex Deal</description>
        <externalId>false</externalId>
        <formula>if(Opportunity__r.IPFlex_Deal__c==&apos;True&apos;,true,false)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>IPFLEX</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IPFLEX__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>IPFLEX</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Inventory_Lookup_Call_Indicator__c</fullName>
        <defaultValue>false</defaultValue>
        <description>Technical Field to send OB to get latest Site Status of Premise. Will be updated by API_MACD_Disconnect_Controller and Workflow. Not to be placed on Page Layout.</description>
        <externalId>false</externalId>
        <label>Inventory Lookup Call Indicator</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Inventory_Lookup_Status__c</fullName>
        <externalId>false</externalId>
        <label>Inventory Lookup Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>In Progress</fullName>
                    <default>false</default>
                    <label>In Progress</label>
                </value>
                <value>
                    <fullName>Success</fullName>
                    <default>false</default>
                    <label>Success</label>
                </value>
                <value>
                    <fullName>Failed</fullName>
                    <default>false</default>
                    <label>Failed</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Invoice_Account_Number__c</fullName>
        <externalId>false</externalId>
        <label>Invoice Account Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>IsCDG_SubAccountSucess__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>IsCDG/SubAccountSucess</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsDealHashCreationSuccess__c</fullName>
        <defaultValue>false</defaultValue>
        <description>will be true whenever the deal hash creation is successfull.</description>
        <externalId>false</externalId>
        <label>IsDealHashCreationSuccess</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsEligibleForContract__c</fullName>
        <externalId>false</externalId>
        <formula>IF(((Premise_Count_for_Contract_Renewal__c == Current_Version_Count__c) &amp;&amp; PremiseDetailActiveCount__c &gt; 0), true, false)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>IsEligibleForContract</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsReviewCompleted__c</fullName>
        <defaultValue>false</defaultValue>
        <description>Check once Review is completed.</description>
        <externalId>false</externalId>
        <label>IsReviewCompleted</label>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>IsSAContractSuccess__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>IsSAContractSuccess</label>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Is_Inflight__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Is Inflight?</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Is_MACDReviewComplete__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>Is MACDReviewComplete</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Is_Review_Complete_for_Version__c</fullName>
        <defaultValue>false</defaultValue>
        <description>Indicator to check all Premise related to selected version are reviewed.</description>
        <externalId>false</externalId>
        <label>Is Review Complete for Version</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Last_Modified_Timestamp__c</fullName>
        <externalId>false</externalId>
        <label>Last Modified Timestamp</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>MACD_Opportunity__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <label>MACD Opportunity</label>
        <referenceTo>Opportunity</referenceTo>
        <relationshipLabel>RDS-Deal Hash (MACD Opportunity)</relationshipLabel>
        <relationshipName>RDS_Deal_Hash</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>MACD_UDH_In_Progress__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>MACD UDH In-Progress</label>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>MACD_Update_Error_Code__c</fullName>
        <externalId>false</externalId>
        <label>MACD Update Error Code</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>TextArea</type>
    </fields>
    <fields>
        <fullName>MACD_Update_Status__c</fullName>
        <externalId>false</externalId>
        <label>MACD Update Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>In Progress</fullName>
                    <default>false</default>
                    <label>In Progress</label>
                </value>
                <value>
                    <fullName>Success</fullName>
                    <default>false</default>
                    <label>Success</label>
                </value>
                <value>
                    <fullName>Failed</fullName>
                    <default>false</default>
                    <label>Failed</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>ManualFlow__c</fullName>
        <defaultValue>false</defaultValue>
        <description>For backend technical field</description>
        <externalId>false</externalId>
        <label>ManualFlow</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>Master_Customer_Number__c</fullName>
        <defaultValue>&quot;SZ7969&quot;</defaultValue>
        <externalId>false</externalId>
        <label>Master Customer Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Master_Order_Number__c</fullName>
        <externalId>false</externalId>
        <formula>Opportunity__r.BID_ID__c</formula>
        <label>Master Order Number</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Modified_By_Application_Id__c</fullName>
        <externalId>false</externalId>
        <label>Modified By Application Id</label>
        <length>60</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Number_of_Sites__c</fullName>
        <externalId>false</externalId>
        <formula>IF( ServiceType__c == &quot;ASE&quot;, Opportunity__r.Number_of_Products__c, CountOfRdsPremise__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Number of Sites</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Old_Contract_Number__c</fullName>
        <externalId>false</externalId>
        <label>Old Contract Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Opportunity_Credit_Check_Status__c</fullName>
        <description>This is a technical field to capture Credit Check Status from related Opportunity. This field is used in button code for RDS Review Completed.</description>
        <externalId>false</externalId>
        <formula>TEXT(Opportunity__r.Credit_Check_Status__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Opportunity Credit Check Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Opportunity__c</fullName>
        <externalId>false</externalId>
        <label>Master Opportunity</label>
        <referenceTo>Opportunity</referenceTo>
        <relationshipLabel>RDS-Deal Hash</relationshipLabel>
        <relationshipName>Deal_Hash</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>Order_Type__c</fullName>
        <externalId>false</externalId>
        <label>Order Type</label>
        <length>50</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Originating_System_Account_ID__c</fullName>
        <description>RDS-Deal Hash-Originating System Account ID</description>
        <externalId>false</externalId>
        <label>Originating System Account ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Override_Rate_Amount__c</fullName>
        <externalId>false</externalId>
        <label>Override Rate Amount</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>PremiseCount__c</fullName>
        <externalId>false</externalId>
        <label>PremiseCount</label>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.MACD_Change_Type__c</field>
            <operation>equals</operation>
            <value>Contract Renewal</value>
        </summaryFilterItems>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Current_Version__c</field>
            <operation>equals</operation>
            <value>True</value>
        </summaryFilterItems>
        <summaryForeignKey>RDS_Premise_Details__c.DealHash__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>PremiseDetailActiveCount__c</fullName>
        <description>Muneesh, for Jared&apos;s report because report type has limitations</description>
        <externalId>false</externalId>
        <label>PremiseDetailActiveCount</label>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Site_Status__c</field>
            <operation>equals</operation>
            <value>ACTIVE</value>
        </summaryFilterItems>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Current_Version__c</field>
            <operation>equals</operation>
            <value>True</value>
        </summaryFilterItems>
        <summaryForeignKey>RDS_Premise_Details__c.DealHash__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Premise_Count_for_Contract_Renewal__c</fullName>
        <externalId>false</externalId>
        <label>Premise Count for Contract Renewal</label>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Current_Version__c</field>
            <operation>equals</operation>
            <value>True</value>
        </summaryFilterItems>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Site_Status__c</field>
            <operation>equals</operation>
            <value>ACTIVE, SOFT_DISCONNECT, HARD_DISCONNECT, CANCELLED</value>
        </summaryFilterItems>
        <summaryForeignKey>RDS_Premise_Details__c.DealHash__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>Premise_Notification_Update_Failed__c</fullName>
        <description>Set the count of premise with Notification Status like &apos;Update Failed&apos;</description>
        <externalId>false</externalId>
        <label>Premise Notification Update Failed</label>
        <summaryFilterItems>
            <field>RDS_Premise_Details__c.Notification_Status__c</field>
            <operation>equals</operation>
            <value>Update Failed</value>
        </summaryFilterItems>
        <summaryForeignKey>RDS_Premise_Details__c.DealHash__c</summaryForeignKey>
        <summaryOperation>count</summaryOperation>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Summary</type>
    </fields>
    <fields>
        <fullName>RDS_Expired_Date__c</fullName>
        <externalId>false</externalId>
        <formula>RDS_Received_Time_New__c+365</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Edit Expired Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>RDS_Received_Time_New__c</fullName>
        <externalId>false</externalId>
        <label>RDS Received Time</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>RDS_Submitted_By__c</fullName>
        <externalId>false</externalId>
        <label>RDS Submitted By</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>RDS_Version_Select__c</fullName>
        <externalId>false</externalId>
        <label>RDS Version Select</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>ALL</fullName>
                    <default>false</default>
                    <label>ALL</label>
                </value>
                <value>
                    <fullName>1</fullName>
                    <default>true</default>
                    <label>1</label>
                </value>
                <value>
                    <fullName>2</fullName>
                    <default>false</default>
                    <label>2</label>
                </value>
                <value>
                    <fullName>3</fullName>
                    <default>false</default>
                    <label>3</label>
                </value>
                <value>
                    <fullName>4</fullName>
                    <default>false</default>
                    <label>4</label>
                </value>
                <value>
                    <fullName>5</fullName>
                    <default>false</default>
                    <label>5</label>
                </value>
                <value>
                    <fullName>6</fullName>
                    <default>false</default>
                    <label>6</label>
                </value>
                <value>
                    <fullName>7</fullName>
                    <default>false</default>
                    <label>7</label>
                </value>
                <value>
                    <fullName>8</fullName>
                    <default>false</default>
                    <label>8</label>
                </value>
                <value>
                    <fullName>9</fullName>
                    <default>false</default>
                    <label>9</label>
                </value>
                <value>
                    <fullName>10</fullName>
                    <default>false</default>
                    <label>10</label>
                </value>
                <value>
                    <fullName>11</fullName>
                    <default>false</default>
                    <label>11</label>
                </value>
                <value>
                    <fullName>12</fullName>
                    <default>false</default>
                    <label>12</label>
                </value>
                <value>
                    <fullName>13</fullName>
                    <default>false</default>
                    <label>13</label>
                </value>
                <value>
                    <fullName>14</fullName>
                    <default>false</default>
                    <label>14</label>
                </value>
                <value>
                    <fullName>15</fullName>
                    <default>false</default>
                    <label>15</label>
                </value>
                <value>
                    <fullName>16</fullName>
                    <default>false</default>
                    <label>16</label>
                </value>
                <value>
                    <fullName>17</fullName>
                    <default>false</default>
                    <label>17</label>
                </value>
                <value>
                    <fullName>18</fullName>
                    <default>false</default>
                    <label>18</label>
                </value>
                <value>
                    <fullName>19</fullName>
                    <default>false</default>
                    <label>19</label>
                </value>
                <value>
                    <fullName>20</fullName>
                    <default>false</default>
                    <label>20</label>
                </value>
                <value>
                    <fullName>21</fullName>
                    <default>false</default>
                    <label>21</label>
                </value>
                <value>
                    <fullName>22</fullName>
                    <default>false</default>
                    <label>22</label>
                </value>
                <value>
                    <fullName>23</fullName>
                    <default>false</default>
                    <label>23</label>
                </value>
                <value>
                    <fullName>24</fullName>
                    <default>false</default>
                    <label>24</label>
                </value>
                <value>
                    <fullName>25</fullName>
                    <default>false</default>
                    <label>25</label>
                </value>
                <value>
                    <fullName>26</fullName>
                    <default>false</default>
                    <label>26</label>
                </value>
                <value>
                    <fullName>27</fullName>
                    <default>false</default>
                    <label>27</label>
                </value>
                <value>
                    <fullName>28</fullName>
                    <default>false</default>
                    <label>28</label>
                </value>
                <value>
                    <fullName>29</fullName>
                    <default>false</default>
                    <label>29</label>
                </value>
                <value>
                    <fullName>30</fullName>
                    <default>false</default>
                    <label>30</label>
                </value>
                <value>
                    <fullName>31</fullName>
                    <default>false</default>
                    <label>31</label>
                </value>
                <value>
                    <fullName>32</fullName>
                    <default>false</default>
                    <label>32</label>
                </value>
                <value>
                    <fullName>33</fullName>
                    <default>false</default>
                    <label>33</label>
                </value>
                <value>
                    <fullName>34</fullName>
                    <default>false</default>
                    <label>34</label>
                </value>
                <value>
                    <fullName>35</fullName>
                    <default>false</default>
                    <label>35</label>
                </value>
                <value>
                    <fullName>36</fullName>
                    <default>false</default>
                    <label>36</label>
                </value>
                <value>
                    <fullName>37</fullName>
                    <default>false</default>
                    <label>37</label>
                </value>
                <value>
                    <fullName>38</fullName>
                    <default>false</default>
                    <label>38</label>
                </value>
                <value>
                    <fullName>39</fullName>
                    <default>false</default>
                    <label>39</label>
                </value>
                <value>
                    <fullName>40</fullName>
                    <default>false</default>
                    <label>40</label>
                </value>
                <value>
                    <fullName>41</fullName>
                    <default>false</default>
                    <label>41</label>
                </value>
                <value>
                    <fullName>42</fullName>
                    <default>false</default>
                    <label>42</label>
                </value>
                <value>
                    <fullName>43</fullName>
                    <default>false</default>
                    <label>43</label>
                </value>
                <value>
                    <fullName>44</fullName>
                    <default>false</default>
                    <label>44</label>
                </value>
                <value>
                    <fullName>45</fullName>
                    <default>false</default>
                    <label>45</label>
                </value>
                <value>
                    <fullName>46</fullName>
                    <default>false</default>
                    <label>46</label>
                </value>
                <value>
                    <fullName>47</fullName>
                    <default>false</default>
                    <label>47</label>
                </value>
                <value>
                    <fullName>48</fullName>
                    <default>false</default>
                    <label>48</label>
                </value>
                <value>
                    <fullName>49</fullName>
                    <default>false</default>
                    <label>49</label>
                </value>
                <value>
                    <fullName>50</fullName>
                    <default>false</default>
                    <label>50</label>
                </value>
                <value>
                    <fullName>51</fullName>
                    <default>false</default>
                    <label>51</label>
                </value>
                <value>
                    <fullName>52</fullName>
                    <default>false</default>
                    <label>52</label>
                </value>
                <value>
                    <fullName>53</fullName>
                    <default>false</default>
                    <label>53</label>
                </value>
                <value>
                    <fullName>54</fullName>
                    <default>false</default>
                    <label>54</label>
                </value>
                <value>
                    <fullName>55</fullName>
                    <default>false</default>
                    <label>55</label>
                </value>
                <value>
                    <fullName>56</fullName>
                    <default>false</default>
                    <label>56</label>
                </value>
                <value>
                    <fullName>57</fullName>
                    <default>false</default>
                    <label>57</label>
                </value>
                <value>
                    <fullName>58</fullName>
                    <default>false</default>
                    <label>58</label>
                </value>
                <value>
                    <fullName>59</fullName>
                    <default>false</default>
                    <label>59</label>
                </value>
                <value>
                    <fullName>60</fullName>
                    <default>false</default>
                    <label>60</label>
                </value>
                <value>
                    <fullName>61</fullName>
                    <default>false</default>
                    <label>61</label>
                </value>
                <value>
                    <fullName>62</fullName>
                    <default>false</default>
                    <label>62</label>
                </value>
                <value>
                    <fullName>63</fullName>
                    <default>false</default>
                    <label>63</label>
                </value>
                <value>
                    <fullName>64</fullName>
                    <default>false</default>
                    <label>64</label>
                </value>
                <value>
                    <fullName>65</fullName>
                    <default>false</default>
                    <label>65</label>
                </value>
                <value>
                    <fullName>66</fullName>
                    <default>false</default>
                    <label>66</label>
                </value>
                <value>
                    <fullName>67</fullName>
                    <default>false</default>
                    <label>67</label>
                </value>
                <value>
                    <fullName>68</fullName>
                    <default>false</default>
                    <label>68</label>
                </value>
                <value>
                    <fullName>69</fullName>
                    <default>false</default>
                    <label>69</label>
                </value>
                <value>
                    <fullName>70</fullName>
                    <default>false</default>
                    <label>70</label>
                </value>
                <value>
                    <fullName>71</fullName>
                    <default>false</default>
                    <label>71</label>
                </value>
                <value>
                    <fullName>72</fullName>
                    <default>false</default>
                    <label>72</label>
                </value>
                <value>
                    <fullName>73</fullName>
                    <default>false</default>
                    <label>73</label>
                </value>
                <value>
                    <fullName>74</fullName>
                    <default>false</default>
                    <label>74</label>
                </value>
                <value>
                    <fullName>75</fullName>
                    <default>false</default>
                    <label>75</label>
                </value>
                <value>
                    <fullName>76</fullName>
                    <default>false</default>
                    <label>76</label>
                </value>
                <value>
                    <fullName>77</fullName>
                    <default>false</default>
                    <label>77</label>
                </value>
                <value>
                    <fullName>78</fullName>
                    <default>false</default>
                    <label>78</label>
                </value>
                <value>
                    <fullName>79</fullName>
                    <default>false</default>
                    <label>79</label>
                </value>
                <value>
                    <fullName>80</fullName>
                    <default>false</default>
                    <label>80</label>
                </value>
                <value>
                    <fullName>81</fullName>
                    <default>false</default>
                    <label>81</label>
                </value>
                <value>
                    <fullName>82</fullName>
                    <default>false</default>
                    <label>82</label>
                </value>
                <value>
                    <fullName>83</fullName>
                    <default>false</default>
                    <label>83</label>
                </value>
                <value>
                    <fullName>84</fullName>
                    <default>false</default>
                    <label>84</label>
                </value>
                <value>
                    <fullName>85</fullName>
                    <default>false</default>
                    <label>85</label>
                </value>
                <value>
                    <fullName>86</fullName>
                    <default>false</default>
                    <label>86</label>
                </value>
                <value>
                    <fullName>87</fullName>
                    <default>false</default>
                    <label>87</label>
                </value>
                <value>
                    <fullName>88</fullName>
                    <default>false</default>
                    <label>88</label>
                </value>
                <value>
                    <fullName>89</fullName>
                    <default>false</default>
                    <label>89</label>
                </value>
                <value>
                    <fullName>90</fullName>
                    <default>false</default>
                    <label>90</label>
                </value>
                <value>
                    <fullName>91</fullName>
                    <default>false</default>
                    <label>91</label>
                </value>
                <value>
                    <fullName>92</fullName>
                    <default>false</default>
                    <label>92</label>
                </value>
                <value>
                    <fullName>93</fullName>
                    <default>false</default>
                    <label>93</label>
                </value>
                <value>
                    <fullName>94</fullName>
                    <default>false</default>
                    <label>94</label>
                </value>
                <value>
                    <fullName>95</fullName>
                    <default>false</default>
                    <label>95</label>
                </value>
                <value>
                    <fullName>96</fullName>
                    <default>false</default>
                    <label>96</label>
                </value>
                <value>
                    <fullName>97</fullName>
                    <default>false</default>
                    <label>97</label>
                </value>
                <value>
                    <fullName>98</fullName>
                    <default>false</default>
                    <label>98</label>
                </value>
                <value>
                    <fullName>99</fullName>
                    <default>false</default>
                    <label>99</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>RDS_Version__c</fullName>
        <defaultValue>1</defaultValue>
        <externalId>false</externalId>
        <label>RDS Version</label>
        <precision>18</precision>
        <required>false</required>
        <scale>0</scale>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Number</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>RDS_object_status__c</fullName>
        <externalId>false</externalId>
        <label>RDS Status</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Received</fullName>
                    <default>false</default>
                    <label>Received</label>
                </value>
                <value>
                    <fullName>Review in progress</fullName>
                    <default>false</default>
                    <label>Review in progress</label>
                </value>
                <value>
                    <fullName>Edit period expired</fullName>
                    <default>false</default>
                    <label>Edit period expired</label>
                </value>
                <value>
                    <fullName>Review completed</fullName>
                    <default>false</default>
                    <label>Review completed</label>
                </value>
                <value>
                    <fullName>Deal Hash Creation API in Progress</fullName>
                    <default>false</default>
                    <label>Deal Hash Creation API in Progress</label>
                </value>
                <value>
                    <fullName>Deal Hash Creation API Successful</fullName>
                    <default>false</default>
                    <label>Deal Hash Creation API Successful</label>
                </value>
                <value>
                    <fullName>Deal Hash Creation API Failed</fullName>
                    <default>false</default>
                    <label>Deal Hash Creation API Failed</label>
                </value>
                <value>
                    <fullName>SA Contract Subscription API Failed</fullName>
                    <default>false</default>
                    <label>SA Contract Subscription API Failed</label>
                </value>
                <value>
                    <fullName>SA Contract Subscription API in Progress</fullName>
                    <default>false</default>
                    <label>SA Contract Subscription API in Progress</label>
                </value>
                <value>
                    <fullName>SA Contract Subscription API Successful</fullName>
                    <default>false</default>
                    <label>SA Contract Subscription API Successful</label>
                </value>
                <value>
                    <fullName>Deal Hash Update - Cancel API In Progress</fullName>
                    <default>false</default>
                    <label>Deal Hash Update - Cancel API In Progress</label>
                </value>
                <value>
                    <fullName>Deal Hash Update - Cancel API Successful</fullName>
                    <default>false</default>
                    <label>Deal Hash Update - Cancel API Successful</label>
                </value>
                <value>
                    <fullName>Deal Hash Update - Cancel API Failed</fullName>
                    <default>false</default>
                    <label>Deal Hash Update - Cancel API Failed</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>RDS_received_time__c</fullName>
        <externalId>false</externalId>
        <label>RDS Received Time</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Rate_Plan_ID__c</fullName>
        <description>Deal Hash-Contract Details-Rate Plans-Rate Plan ID</description>
        <externalId>false</externalId>
        <label>Rate Plan ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Rate_Plan_Start_Date__c</fullName>
        <externalId>false</externalId>
        <formula>DATEVALUE(Start_Date__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Rate Plan Start Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Rate_Stability_Date__c</fullName>
        <description>Deal Hash-Contract Details-Rate Plans-Rate Stability Date</description>
        <externalId>false</externalId>
        <label>Rate Stability Date</label>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Renewal_Contract_Quote_Name__c</fullName>
        <externalId>false</externalId>
        <formula>RenewedQuote__r.Name</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Renewal Contract Quote Name</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>RenewedQuote__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <externalId>false</externalId>
        <inlineHelpText>This is a techical Field</inlineHelpText>
        <label>Renewed Quote</label>
        <referenceTo>Apttus_Proposal__Proposal__c</referenceTo>
        <relationshipLabel>RDS-Deal Hash (Renewed Quote)</relationshipLabel>
        <relationshipName>RDS_Deal_Hash1</relationshipName>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>SFDC_Account_End_Customer_ID_AEJ_ID__c</fullName>
        <externalId>false</externalId>
        <label>SFDC Account End Customer ID (AEJ ID)</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>SFDC_Account_End_Customer_Override__c</fullName>
        <description>Used to override the SFDC Account End Customer ID (AEJ ID) value on the Circuit &amp; VLAN Details. Primarily used only for rare deals of type Private Line with different end customers.</description>
        <externalId>false</externalId>
        <label>SFDC Account End Customer Override</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Selected_Opportunity__c</fullName>
        <description>This field is to capture the Unique Customer Project Number from RDS Premise Details based on the version # in RDS Version Select field.</description>
        <externalId>false</externalId>
        <label>Selected Opportunity</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>ServiceType__c</fullName>
        <externalId>false</externalId>
        <formula>IF(CONTAINS(Contract_Number__c, &quot;AVPN&quot;),&quot;AVPN&quot;, IF(CONTAINS(Contract_Number__c, &quot;MIS&quot;),&quot;MIS&quot;, &quot;ASE&quot;))</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>ServiceType</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>StabilityDate__c</fullName>
        <description>For storing Date value of Rate Stability Date</description>
        <externalId>false</externalId>
        <formula>DATEVALUE( Rate_Stability_Date__c )</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Stability Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Start_Date__c</fullName>
        <description>Deal Hash-Contract Details-Start Date</description>
        <externalId>false</externalId>
        <label>Start Date</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Sub_Account_Number__c</fullName>
        <externalId>false</externalId>
        <label>Sub Account Number</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Term__c</fullName>
        <externalId>false</externalId>
        <label>Term</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>USO_ID_Status__c</fullName>
        <externalId>false</externalId>
        <label>USO ID Status</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>In Progress</fullName>
                    <default>false</default>
                    <label>In Progress</label>
                </value>
                <value>
                    <fullName>Success</fullName>
                    <default>false</default>
                    <label>Success</label>
                </value>
                <value>
                    <fullName>Failed</fullName>
                    <default>false</default>
                    <label>Failed</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <fields>
        <fullName>Unique_Service_ID__c</fullName>
        <externalId>false</externalId>
        <label>Unique Service ID</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>true</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>User_Id__c</fullName>
        <externalId>false</externalId>
        <formula>IF(Opportunity__r.RecordType.Name  == &apos;MACD&apos;,Opportunity__r.ATTUID__c,&apos;&apos; )</formula>
        <label>User Id</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>X3rd_Party_Flag_On_Opportunity__c</fullName>
        <description>This is a technical field used for Custom Logic in the backend. This field is not required on Page Layout.</description>
        <externalId>false</externalId>
        <formula>Opportunity__r.X3rd_Party_Flag__c</formula>
        <label>3rd Party Flag On Opportunity</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>isBeginQuotePermission__c</fullName>
        <externalId>false</externalId>
        <formula>$User.Begin_Quote__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>isBeginQuotePermission</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>isContractRenewalFlow__c</fullName>
        <defaultValue>false</defaultValue>
        <externalId>false</externalId>
        <label>isContractRenewalFlow</label>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>saartID__c</fullName>
        <externalId>false</externalId>
        <formula>Opportunity__r.Account.SAART_Customer_Account_ID__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>saartID</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <label>RDS-Deal Hash</label>
    <listViews>
        <fullName>All</fullName>
        <columns>NAME</columns>
        <columns>Contract_Number__c</columns>
        <columns>Opportunity__c</columns>
        <columns>Sub_Account_Number__c</columns>
        <columns>ContractEndDate__c</columns>
        <columns>CREATED_DATE</columns>
        <columns>CREATEDBY_USER</columns>
        <columns>ServiceType__c</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Invoice_Account_Number__c</field>
            <operation>notEqual</operation>
        </filters>
        <filters>
            <field>Sub_Account_Number__c</field>
            <operation>notEqual</operation>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operation>contains</operation>
            <value>Q</value>
        </filters>
        <filters>
            <field>ServiceType__c</field>
            <operation>contains</operation>
            <value>AVPN,MIS</value>
        </filters>
        <label>+ All</label>
    </listViews>
    <listViews>
        <fullName>All1</fullName>
        <columns>NAME</columns>
        <columns>Contract_Number__c</columns>
        <columns>Opportunity__c</columns>
        <columns>Master_Order_Number__c</columns>
        <columns>Sub_Account_Number__c</columns>
        <columns>Rate_Plan_ID__c</columns>
        <columns>RDS_object_status__c</columns>
        <columns>CREATED_DATE</columns>
        <columns>CREATEDBY_USER</columns>
        <filterScope>Everything</filterScope>
        <filters>
            <field>Master_Order_Number__c</field>
            <operation>contains</operation>
            <value>o</value>
        </filters>
        <label>+ All</label>
    </listViews>
    <nameField>
        <displayFormat>DH-{00000}</displayFormat>
        <label>Deal Name</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>RDS-Deal Hash</pluralLabel>
    <recordTypeTrackHistory>false</recordTypeTrackHistory>
    <recordTypes>
        <fullName>RDS_Deal_Hash</fullName>
        <active>true</active>
        <description>RDS-Deal Hash is the Object where all RDS Deal Hash related information will be stored</description>
        <label>RDS-Deal Hash</label>
        <picklistValues>
            <picklist>Action__c</picklist>
            <values>
                <fullName>ADD_PREMISE</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>NEW</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>SOFT_DISCONNECT</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>UPDATE</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>UPDATE_PREMISE</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Archive_Status__c</picklist>
            <values>
                <fullName>Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>In Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Success</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Contract_Renewal_Stage__c</picklist>
            <values>
                <fullName>Offline Process Initiated</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Renewal Request Pending</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Special Pricing Requested</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Deal_Hash_Status__c</picklist>
            <values>
                <fullName>ACTIVE</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>HISTORICAL</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>INACTIVE</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>PENDING</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>Inventory_Lookup_Status__c</picklist>
            <values>
                <fullName>Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>In Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Success</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>MACD_Update_Status__c</picklist>
            <values>
                <fullName>Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>In Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Success</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>RDS_Version_Select__c</picklist>
            <values>
                <fullName>1</fullName>
                <default>true</default>
            </values>
            <values>
                <fullName>10</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>11</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>12</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>13</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>14</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>15</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>16</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>17</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>18</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>19</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>2</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>20</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>21</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>22</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>23</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>24</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>25</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>26</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>27</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>28</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>29</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>3</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>30</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>31</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>32</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>33</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>34</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>35</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>36</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>37</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>38</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>39</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>4</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>40</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>41</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>42</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>43</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>44</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>45</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>46</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>47</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>48</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>49</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>5</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>50</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>51</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>52</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>53</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>54</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>55</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>56</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>57</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>58</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>59</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>6</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>60</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>61</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>62</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>63</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>64</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>65</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>66</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>67</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>68</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>69</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>7</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>70</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>71</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>72</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>73</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>74</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>75</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>76</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>77</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>78</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>79</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>8</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>80</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>81</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>82</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>83</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>84</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>85</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>86</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>87</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>88</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>89</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>9</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>90</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>91</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>92</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>93</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>94</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>95</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>96</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>97</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>98</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>99</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>ALL</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>RDS_object_status__c</picklist>
            <values>
                <fullName>Deal Hash Creation API Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deal Hash Creation API Successful</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deal Hash Creation API in Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deal Hash Update - Cancel API Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deal Hash Update - Cancel API In Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Deal Hash Update - Cancel API Successful</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Edit period expired</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Received</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Review completed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Review in progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>SA Contract Subscription API Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>SA Contract Subscription API Successful</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>SA Contract Subscription API in Progress</fullName>
                <default>false</default>
            </values>
        </picklistValues>
        <picklistValues>
            <picklist>USO_ID_Status__c</picklist>
            <values>
                <fullName>Failed</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>In Progress</fullName>
                <default>false</default>
            </values>
            <values>
                <fullName>Success</fullName>
                <default>false</default>
            </values>
        </picklistValues>
    </recordTypes>
    <searchLayouts/>
    <sharingModel>ControlledByParent</sharingModel>
    <validationRules>
        <fullName>Lookup_to_Opportunity_cannot_be_updated</fullName>
        <active>true</active>
        <errorConditionFormula>ISCHANGED( Opportunity__c )</errorConditionFormula>
        <errorMessage>The reference to Opportunity cannot be changed.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>RDS_Edit_Expired</fullName>
        <active>true</active>
        <description>RDS Edit Expired</description>
        <errorConditionFormula>AND(OR(If(Edit_Expired_Date__c&lt;NOW(),True,False),ISPICKVAL( RDS_object_status__c ,&quot;Review completed&quot;)),
!ISCHANGED(Edit_Expired_Date__c),!ISCHANGED( RDS_object_status__c),!ISCHANGED( Customer_Defining_Group_ID__c),!ISCHANGED( Sub_Account_Number__c),!ISCHANGED(ManualFlow__c),
!ISCHANGED( Is_MACDReviewComplete__c ),
!ISCHANGED( RDS_Version_Select__c ), 
NOT(Is_Inflight__c),
$Profile.Name &lt;&gt;&quot;SI_API User&quot;,
$Profile.Name &lt;&gt;&quot;System Administrator&quot;,
$Profile.Name &lt;&gt;&quot;SI_EBM Admin&quot;,
$Profile.Name &lt;&gt;&quot;SI_EBM_DEV_OPS&quot;,
$Profile.Name&lt;&gt;&quot;ATT Partner Community User&quot;,
$Profile.Name&lt;&gt;&quot;System Admin Read Only(Developers/Testers)&quot;,
NOT(AND(ISCHANGED(RDS_Version__c),$Profile.Name = &quot;ATT Partner Community User&quot;)))</errorConditionFormula>
        <errorMessage>Edit Time has elapsed . Please contact EBM Admin for more information.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>RDS_Version_Select_None_Validation</fullName>
        <active>true</active>
        <description>Validation to pop an error whenever user tries to change RDS version select to None</description>
        <errorConditionFormula>AND(ISPICKVAL(RDS_Version_Select__c,&apos;&apos;),
$Profile.Name &lt;&gt;&quot;SI_API User&quot;,
$Profile.Name &lt;&gt;&quot;System Administrator&quot;)</errorConditionFormula>
        <errorMessage>RDS Version select cannot be None</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>RDS_Version_Select_Validation</fullName>
        <active>true</active>
        <description>EBM user shouldnt be allowed to change the Version select number while RDS status, MACD Status, Archived status is In progress.</description>
        <errorConditionFormula>ISCHANGED( RDS_Version_Select__c ) &amp;&amp;
(ISPICKVAL(RDS_object_status__c, &apos;Deal Hash Creation API in Progress&apos;) ||  ISPICKVAL(MACD_Update_Status__c, &apos;In Progress&apos;) ||  ISPICKVAL(Archive_Status__c,&apos;In Progress&apos;))</errorConditionFormula>
        <errorMessage>RDS Version select cannot be changed while RDS status, MACD Status, Archived status is In progress.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Record_Lock_after_Deal_Hash_creation_DH</fullName>
        <active>false</active>
        <errorConditionFormula>AND(OR(If(Edit_Expired_Date__c&lt;NOW(),True,False),ISPICKVAL( RDS_object_status__c ,&quot;Review completed&quot;)),
!ISCHANGED(Edit_Expired_Date__c),!ISCHANGED( RDS_object_status__c),!ISCHANGED( Customer_Defining_Group_ID__c),!ISCHANGED( Sub_Account_Number__c),
!ISCHANGED( Is_MACDReviewComplete__c ),
!ISCHANGED( RDS_Version_Select__c ),
NOT(Is_Inflight__c), 
$Profile.Name &lt;&gt;&quot;SI_API User&quot;,
$Profile.Name &lt;&gt;&quot;System Administrator&quot;,
$Profile.Name &lt;&gt;&quot;SI_EBM Admin&quot;,
$Profile.Name &lt;&gt;&quot;SI_EBM_DEV_OPS&quot;,
$Profile.Name&lt;&gt;&quot;ATT Partner Community User&quot;,
NOT(AND(ISCHANGED(RDS_Version__c),ISCHANGED( RDS_Version_Select__c),$Profile.Name = &quot;ATT Partner Community User&quot;)))</errorConditionFormula>
        <errorMessage>Record cannot be updated after Deal Hash has been created.</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
    <webLinks>
        <fullName>CreateDealHash</fullName>
        <availability>online</availability>
        <description>Added New</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Create/Update Deal Hash</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/28.0/connection.js&quot;)}; 
var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var contactIdString = &quot;&quot;; 
var firstRecord = true; 
var premDResult = sforce.connection.query(&quot;SELECT Id,Name,Class_Of_Service_USOC__c,Customer_Project_Number__c,Record_Issue_Date__c, Service_Type__c, BAN__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos;&quot;); 
var premRecordArray = premDResult.getArray(&quot;records&quot;); 
var firstRecord = true; 
var RDSStatus=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;; 
var RDSbundle=&apos;{!Deal_Hash__c.Bundle_Account_Number__c}&apos;; 
var contractno=&apos;{!Deal_Hash__c.Contract_Number__c}&apos;; 
var custdefgroupid=&apos;{!Deal_Hash__c.Customer_Defining_Group_ID__c}&apos;; 
var custid=&apos;{!Deal_Hash__c.Customer_ID__c}&apos;; 
var HierarchyID=&apos;{!Deal_Hash__c.Hierarchy_ID__c}&apos;; 
var invaccno=&apos;{!Deal_Hash__c.Invoice_Account_Number__c}&apos;; 
var mastcustno=&apos;{!Deal_Hash__c.Master_Customer_Number__c}&apos;; 
var sfdcendcustid=&apos;{!Deal_Hash__c.SFDC_Account_End_Customer_ID_AEJ_ID__c}&apos;; 
var startdate=&apos;{!Deal_Hash__c.Start_Date__c}&apos;; 
var subaccno=&apos;{!Deal_Hash__c.Sub_Account_Number__c}&apos;; 
var term=&apos;{!Deal_Hash__c.Term__c}&apos;; 
var saContractCheckbox=&apos;{!Deal_Hash__c.IsSAContractSuccess__c}&apos;; 
var CDGstatus = {!Opportunity.IsCDG_SubAccountSucess__c}; 
var circuitIdstatus = {!Opportunity.IsCircuit_ID_USOSucess__c}; 
//var md5status = {!Opportunity.IsEncrypted_Password_APISucess__c}; GCS Commented 6/10 - step not needed. 
var dealrateplanStatus = {!Opportunity.IsDeal_Rate_Plan_Sucess__c}; 

var userProfile = &apos;{!User.Profile}&apos;;
var isUpdateUser = false;
if(userProfile==&apos;SI_EBM_DEV_OPS&apos; || userProfile==&apos;System Administrator&apos; || userProfile==&apos;System Admin Read Only(Developers/Testers)&apos;){
var isUpdateUser = true;
}

var isProvisioned = false;
var ProvisStatus = sforce.connection.query(&quot;SELECT Provisioning_Status__c, Process_ID__c FROM DHStatus_Update_Deal_Hash_Details__c Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos;&quot;);
var ProvisStatusArray = ProvisStatus.getArray(&quot;records&quot;); 
for (var i=0 ; i&lt;ProvisStatusArray.length; i++) 
{ 
var provisRecord =ProvisStatusArray[i];
if(provisRecord.Provisioning_Status__c == &apos;Provisioning Initiated&apos; &amp;&amp; ((provisRecord.Process_ID__c != &apos;&apos;) || (provisRecord.Process_ID__c != null))){
var isProvisioned = true;
break;
}
}

if(RDSStatus==&apos;Received&apos; || RDSStatus==&apos;Review in progress&apos;|| RDSStatus==&apos;Edit period expired&apos; || RDSStatus==&apos;&apos;) 
{ 
alert(&apos;RDS review is not complete&apos;); 
} 
else if(RDSStatus == &apos;Deal Hash Creation API in Progress&apos;) 
{ 
alert(&apos;Deal Hash creation is already initiated&apos;); 
} 
else if(RDSStatus == &apos;Deal Hash Creation API Failed&apos;) 
{ 
alert(&apos;Deal Hash Creation/Update has failed. Please Retrigger Deal Hash&apos;); 
} 
else if(RDSStatus == &apos;Deal Hash Creation API Successful&apos; &amp;&amp; isUpdateUser == false)
{
alert(&apos;Deal Hash creation is already initiated&apos;);
}
else if(RDSStatus == &apos;Deal Hash Creation API Successful&apos; &amp;&amp; isUpdateUser == true &amp;&amp; isProvisioned == true)
{
alert(&apos;Deal Hash creation cannot be initiated as Provisioning has already started&apos;);
}
//else if(saContractCheckbox == false ) 
//{ 
//alert(&apos;SA contract Subscription must be successful before requesting for creating deal hash&apos;); 
//} 
else if(saContractCheckbox == true || saContractCheckbox == false ) 
{ 

if(dealrateplanStatus == false){ 
errorMsg1 += &quot;DealRate Plan must be successful before requesting for creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(CDGstatus == false){ 
errorMsg1 += &quot;CDG/SubAccount must be successful before requesting for creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
//if(md5status == false){ 
//errorMsg1 += &quot;Encrypted Password must be successful before requesting for creating //deal hash.\r\n&quot; 
//errorsFound1 = true; 
//} 
if(circuitIdstatus == false){ 
errorMsg1 += &quot;Circuit ID/USO must be successful before requesting for creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(RDSbundle==&apos;&apos; || RDSbundle==null){ 
errorMsg1 += &quot;Deal Hash &apos;Bundle Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(contractno==&apos;&apos; || contractno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Contract Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(custdefgroupid==&apos;&apos; || custdefgroupid==null){ 
errorMsg1 += &quot;Deal Hash &apos;Customer Defining Group ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(custid==&apos;&apos; || custid==null){ 
errorMsg1 += &quot;Deal Hash &apos;Customer ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 

} 
if(HierarchyID==&apos;&apos; || HierarchyID==null){ 
errorMsg1 += &quot;Deal Hash &apos;Hierarchy ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(invaccno==&apos;&apos; || invaccno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Invoice Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(mastcustno==&apos;&apos; || mastcustno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Master Customer Number &apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(sfdcendcustid==&apos;&apos; || sfdcendcustid==null){ 
errorMsg1 += &quot;Deal Hash &apos;SFDC End Customer ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(startdate==&apos;&apos; || startdate==null){ 
errorMsg1 += &quot;Deal Hash &apos;Start Date&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(subaccno==&apos;&apos; || subaccno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Sub Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 

if(term==&apos;&apos; || term==null){ 
errorMsg1 += &quot;Deal Hash &apos;Term&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
//PremiseCheck(); 
function PremiseCheck() 
{ 
for (var i=0 ; i&lt;premRecordArray.length; i++) 
{ 
var oppRecord =premRecordArray[i]; 
var pid = oppRecord.Id; 
if (oppRecord.Class_Of_Service_USOC__c== null || oppRecord.Class_Of_Service_USOC__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Class of Service USOC field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (oppRecord.Record_Issue_Date__c== null || oppRecord.Record_Issue_Date__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Record Issue Date field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (oppRecord.Customer_Project_Number__c== null || oppRecord.Customer_Project_Number__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Customer Project Number field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if ((oppRecord.Service_Type__c == &quot;ASE&quot;)&amp;&amp;(oppRecord.BAN__c== null || oppRecord.BAN__c== &quot;&quot;)) 
{ 
errorMsg1 += &quot;The BAN field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (!firstRecord) { 
contactIdString += &quot;, &quot;; 
} 
contactIdString += &quot;&apos;&quot;+pid+&quot;&apos;&quot;; 
firstRecord = false; 


} 
} 
PremiseCheck(); 
function cvlan(){ 

var cvlanQuery = &quot;Select Service_Code__c,ATT_POP_CLLI__c,Name from Circuit_and_VLAN_Details__c WHERE Premise__c IN (&quot;+contactIdString+&quot;) and (Service_Code__c=null OR ATT_POP_CLLI__c=null) &quot;; 

var cvlanResult = sforce.connection.query(cvlanQuery); 
var vlanArray = cvlanResult.getArray(&quot;records&quot;); 
for (var i=0 ; i&lt;vlanArray.length; i++) 
{ 
var vlanRecord =vlanArray[i]; 
var prec =premRecordArray[i]; 
if (vlanRecord.Service_Code__c== null || vlanRecord.Service_Code__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Service Code on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (vlanRecord.ATT_POP_CLLI__c== null || vlanRecord.ATT_POP_CLLI__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The ATT POP CLLI on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
} 
} 
cvlan(); 
function aCktBlank() 
{ 
var accCktQuery = &quot;Select RDS_DealHashId__c,ATT_Gateway_Circuit_ID__c,EC_Gateway_Circuit_ID__c,Name from RDS_Access_Circuit_ID__c WHERE RDS_DealHashId__c =&apos;{!Deal_Hash__c.Id}&apos; and Circuit_and_VLAN_Details__r.Access_Method__c = &apos;SEAMLESS_CONTROL_PLANE&apos; &quot;; 
var accCktResult = sforce.connection.query(accCktQuery); 
var accCktArray = accCktResult.getArray(&quot;records&quot;); 
for(var j=0 ;j&lt;accCktArray.length ; j++) 
{ 
var accCktRecord =accCktArray[j]; 
if(accCktRecord.ATT_Gateway_Circuit_ID__c ==&apos;&apos; || accCktRecord.ATT_Gateway_Circuit_ID__c==null ) 
{ 
errorMsg1 += &quot; The ATT Gateway Circuit ID on &quot; + accCktRecord.Name + &quot; should not be blank before creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
if( accCktRecord.EC_Gateway_Circuit_ID__c==&apos;&apos; || accCktRecord.EC_Gateway_Circuit_ID__c==null) 
{ 
errorMsg1 += &quot; The EC Gateway Circuit ID on &quot; + accCktRecord.Name + &quot; should not be blank before creating deal hash .\r\n&quot; 
errorsFound1 = true; 
} 
} 
}	
aCktBlank(); 
if (errorsFound1) 
{ 
alert(errorMsg1); 
} 
else{ 
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;); 
RDSDealHashObj.id = &quot;{!Deal_Hash__c.Id}&quot;; 
if((RDSStatus ==&quot;Deal Hash Creation API Successful&quot; || RDSStatus ==&quot;SA Contract Subscription API in Progress&quot; || RDSStatus ==&quot;SA Contract Subscription API Failed&quot; || RDSStatus ==&quot;SA Contract Subscription API Successful&quot;)&amp;&amp; isUpdateUser == true &amp;&amp; isProvisioned == false){
RDSDealHashObj.Action__c = &apos;UPDATE&apos;;
}
RDSDealHashObj.RDS_object_status__c =&apos;Deal Hash Creation API in Progress&apos;; 
var rdsupdate=sforce.connection.update([RDSDealHashObj]); 
window.location.href = window.location.href; 
} 
}</url>
    </webLinks>
    <webLinks>
        <fullName>Create_Deal_Hash</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Create Deal Hash</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)}; 
{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/apex.js&quot;)}; 
var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var contactIdString = &quot;&quot;; 
var firstRecord = true; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0) 
{ 
for (var i=0 ; i&lt;opptyCheck.length; i++) 
{ 
var oppRecordName =opptyCheck [i]; 

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot; 
errorsFound1 = true; 
} 
if (errorsFound1) 
{ 
alert(errorMsg1 ); 
} 
} 
else{ 

var premDResult = sforce.connection.query(&quot;SELECT Id,Name,Class_Of_Service_USOC__c,Customer_Project_Number__c,Record_Issue_Date__c, Service_Type__c, BAN__c,Site_Status__c,Current_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND Current_Version__c=true AND Site_Status__c!=&apos;CANCELLED&apos;&quot;); 
var premRecordArray = premDResult.getArray(&quot;records&quot;); 
var firstRecord = true; 
var RDSStatus=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;; 
var ArchiveStatus=&apos;{!Deal_Hash__c.Archive_Status__c}&apos;; 
var RDSbundle=&apos;{!Deal_Hash__c.Bundle_Account_Number__c}&apos;; 
var contractno=&apos;{!Deal_Hash__c.Contract_Number__c}&apos;; 
var custdefgroupid=&apos;{!Deal_Hash__c.Customer_Defining_Group_ID__c}&apos;; 
var custid=&apos;{!Deal_Hash__c.Customer_ID__c}&apos;; 
var HierarchyID=&apos;{!Deal_Hash__c.Hierarchy_ID__c}&apos;; 
var invaccno=&apos;{!Deal_Hash__c.Invoice_Account_Number__c}&apos;; 
var mastcustno=&apos;{!Deal_Hash__c.Master_Customer_Number__c}&apos;; 
var sfdcendcustid=&apos;{!Deal_Hash__c.SFDC_Account_End_Customer_ID_AEJ_ID__c}&apos;; 
var startdate=&apos;{!Deal_Hash__c.Start_Date__c}&apos;; 
var subaccno=&apos;{!Deal_Hash__c.Sub_Account_Number__c}&apos;; 
var term=&apos;{!Deal_Hash__c.Term__c}&apos;; 
var saContractCheckbox=&apos;{!Deal_Hash__c.IsSAContractSuccess__c}&apos;; 
//var archivestatus=&apos;{!Deal_Hash__c.Archive_Status__c}&apos;; 
var CDGstatus = {!Opportunity.IsCDG_SubAccountSucess__c}; 
var circuitIdstatus = {!Opportunity.IsCircuit_ID_USOSucess__c}; 
//var md5status = {!Opportunity.IsEncrypted_Password_APISucess__c}; GCS Commented 6/10 - step not needed. 
var dealrateplanStatus = {!Opportunity.IsDeal_Rate_Plan_Sucess__c}; 
var dealHashCreationStatus = {!Deal_Hash__c.IsDealHashCreationSuccess__c}; 
//var recordtype= {!Opportunity.RecordType}; 
var pricingScheduleComplete = {!Opportunity.Manual_Pricing_Schedule_Complete__c}; 
var version = &apos;{!Deal_Hash__c.RDS_Version__c}&apos;; 
var RDSVersionSelect = &apos;{!Deal_Hash__c.RDS_Version_Select__c}&apos;; 

var userProfile = &apos;{!User.Profile}&apos;; 
var isUpdateUser = false; 
if(userProfile==&apos;SI_EBM_DEV_OPS&apos; || userProfile==&apos;System Administrator&apos; || userProfile==&apos;SI_EBM Admin&apos; || userProfile==&apos;SI_EBM Technical Ops&apos; || userProfile==&apos;System Admin Read Only(Developers/Testers)&apos; ){ 
var isUpdateUser = true; 
} 
if(isUpdateUser == false){ 
alert(&apos;Deal Hash Creation is not allowed for your profile.&apos;); 
} 
else if(premRecordArray.length==0) 
{ 
alert(&apos;No sites are available to Create Deal Hash&apos;); 
} 
else{ 
if(&apos;{!Opportunity.RecordType}&apos;==&quot;MACD&quot; &amp;&amp; pricingScheduleComplete==false) 
{ 
alert(&apos;Manual pricing schedule should be completed&apos;); 
} 
if(RDSStatus==&apos;Received&apos; || RDSStatus==&apos;Review in progress&apos;|| RDSStatus==&apos;Edit period expired&apos; || RDSStatus==&apos;&apos;) 
{ 
alert(&apos;RDS review is not complete&apos;); 
} 
else if(RDSStatus == &apos;Deal Hash Creation API in Progress&apos;) 
{ 
alert(&apos;Deal Hash creation is already in progress&apos;); 
} 
else if(RDSStatus == &apos;Deal Hash Creation API Failed&apos;) 
{ 
alert(&apos;Deal Hash creation was failed. Please click on Retrigger create deal hash button&apos;); 
} 
else if(dealHashCreationStatus == false &amp;&amp; version == 1 &amp;&amp; RDSStatus == &apos;Deal Hash Creation API Failed&apos;) 
{ 
alert(&apos;Deal Hash Creation/Update has failed. Please Retrigger Deal Hash&apos;); 
} 
else if(dealHashCreationStatus == true &amp;&amp; version &gt;= 1) 
{ 
alert(&apos;Deal Hash is already created. Please click on Update Deal Hash button for updates.&apos;); 
} 
else if(RDSVersionSelect == &apos;ALL&apos;) 
{ 
alert(&apos;Please select an appropriate Version in RDS Version Select&apos;); 
} 

else if((saContractCheckbox == true || saContractCheckbox == false) &amp;&amp; dealHashCreationStatus == true &amp;&amp; isUpdateUser == false) 
{ 
alert(&apos;Deal Hash creation is already initiated&apos;); 
} 
else if(saContractCheckbox == true || saContractCheckbox == false ) 
{ 
if(dealrateplanStatus == false){ 
errorMsg1 += &quot;DealRate Plan must be successful before requesting for creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(CDGstatus == false){ 
errorMsg1 += &quot;CDG/SubAccount must be successful before requesting for creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 

if(circuitIdstatus == false){ 
errorMsg1 += &quot;Circuit ID/USO must be successful before requesting for creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(RDSbundle==&apos;&apos; || RDSbundle==null){ 
errorMsg1 += &quot;Deal Hash &apos;Bundle Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(contractno==&apos;&apos; || contractno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Contract Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(custdefgroupid==&apos;&apos; || custdefgroupid==null){ 
errorMsg1 += &quot;Deal Hash &apos;Customer Defining Group ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(custid==&apos;&apos; || custid==null){ 
errorMsg1 += &quot;Deal Hash &apos;Customer ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 

} 
if(HierarchyID==&apos;&apos; || HierarchyID==null){ 
errorMsg1 += &quot;Deal Hash &apos;Hierarchy ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(invaccno==&apos;&apos; || invaccno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Invoice Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(mastcustno==&apos;&apos; || mastcustno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Master Customer Number &apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(sfdcendcustid==&apos;&apos; || sfdcendcustid==null){ 
errorMsg1 += &quot;Deal Hash &apos;SFDC End Customer ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(startdate==&apos;&apos; || startdate==null){ 
errorMsg1 += &quot;Deal Hash &apos;Start Date&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(subaccno==&apos;&apos; || subaccno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Sub Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 

if(term==&apos;&apos; || term==null){ 
errorMsg1 += &quot;Deal Hash &apos;Term&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 

//PremiseCheck(); 
function PremiseCheck() 
{ 
/*if(premRecordArray.length==0) 
{ 
errorMsg1 += &quot;No sites are available to Create Deal Hash.\r\n&quot; 
errorsFound1 = true; 
}*/ 
for (var i=0 ; i&lt;premRecordArray.length; i++) 
{ 
var oppRecord =premRecordArray[i]; 
var pid = oppRecord.Id; 
if (oppRecord.Class_Of_Service_USOC__c== null || oppRecord.Class_Of_Service_USOC__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;The Class of Service USOC field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (oppRecord.Record_Issue_Date__c== null || oppRecord.Record_Issue_Date__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;The Record Issue Date field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (oppRecord.Customer_Project_Number__c== null || oppRecord.Customer_Project_Number__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;The Customer Project Number field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if ((oppRecord.Service_Type__c == &quot;ASE&quot;)&amp;&amp;(oppRecord.BAN__c== null || oppRecord.BAN__c== &quot;&quot;)) 
{ 
errorMsg1 += &quot;The BAN field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (!firstRecord) { 
contactIdString += &quot;, &quot;; 
} 
contactIdString += &quot;&apos;&quot;+pid+&quot;&apos;&quot;; 
firstRecord = false; 
} 

} 
PremiseCheck(); 
function cvlan(){ 

var cvlanQuery = &quot;Select Service_Code__c,ATT_POP_CLLI__c,Required_L3_POP_CLLI__c,Name from Circuit_and_VLAN_Details__c WHERE Premise__c IN (&quot;+contactIdString+&quot;) and (Service_Code__c=null OR ATT_POP_CLLI__c=null OR Required_L3_POP_CLLI__c=null) &quot;; 

var cvlanResult = sforce.connection.query(cvlanQuery); 
var vlanArray = cvlanResult.getArray(&quot;records&quot;); 
/*var PremiseRecord =premRecordArray[i]; 
var premid = PremiseRecord.Id;*/ 
for (var i=0 ; i&lt;vlanArray.length; i++) 
{ 
var vlanRecord =vlanArray[i]; 
var prec =premRecordArray[i]; 
if (vlanRecord.Service_Code__c== null || vlanRecord.Service_Code__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;The Service Code on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (vlanRecord.ATT_POP_CLLI__c== null || vlanRecord.ATT_POP_CLLI__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;The ATT POP CLLI on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if(prec.Service_Type__c ==&quot;ASE&quot;) 
{ 
if(vlanRecord.Required_L3_POP_CLLI__c== null || vlanRecord.Required_L3_POP_CLLI__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;Required L3 POP CLLI on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
} 
} 
} 
if(premRecordArray.length&gt;0) 
{ 
cvlan(); 
} 
function aCktBlank() 
{ 
var accCktQuery = &quot;Select RDS_DealHashId__c,ATT_Gateway_Circuit_ID__c,EC_Gateway_Circuit_ID__c,Name from RDS_Access_Circuit_ID__c WHERE RDS_DealHashId__c =&apos;{!Deal_Hash__c.Id}&apos; and Circuit_and_VLAN_Details__r.Access_Method__c = &apos;SEAMLESS_CONTROL_PLANE&apos; and Circuit_and_VLAN_Details__r.Premise__r.Site_Status__c != &apos;CANCELLED&apos; and Circuit_and_VLAN_Details__r.Premise__r.Current_Version__c = true&quot;; 
var accCktResult = sforce.connection.query(accCktQuery); 
var accCktArray = accCktResult.getArray(&quot;records&quot;); 
for(var j=0 ;j&lt;accCktArray.length ; j++) 
{ 
var accCktRecord =accCktArray[j]; 
if(accCktRecord.ATT_Gateway_Circuit_ID__c ==&apos;&apos; || accCktRecord.ATT_Gateway_Circuit_ID__c==null ) 
{ 
errorMsg1 += &quot; The ATT Gateway Circuit ID on &quot; + accCktRecord.Name + &quot; should not be blank before creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
if( accCktRecord.EC_Gateway_Circuit_ID__c==&apos;&apos; || accCktRecord.EC_Gateway_Circuit_ID__c==null) 
{ 
errorMsg1 += &quot; The EC Gateway Circuit ID on &quot; + accCktRecord.Name + &quot; should not be blank before creating deal hash .\r\n&quot; 
errorsFound1 = true; 
} 
} 
} 
if(premRecordArray.length&gt;0) 
{ 
aCktBlank(); 
} 
if (errorsFound1) 
{ 
alert(errorMsg1); 
} 
else{ 
sforce.apex.execute(&quot;API_calculateCRDDOnPremise&quot;,&quot;calculateCRDDOnPremise&quot;,{dealHId : &quot;{!Deal_Hash__c.Id}&quot;, version : &quot;{!Deal_Hash__c.RDS_Version_Select__c}&quot;}); 
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;); 
RDSDealHashObj.id = &quot;{!Deal_Hash__c.Id}&quot;; 
RDSDealHashObj.Action__c = &apos;NEW&apos;; 
RDSDealHashObj.RDS_object_status__c =&apos;Deal Hash Creation API in Progress&apos;; 
var rdsupdate=sforce.connection.update([RDSDealHashObj]); 
window.location.href = window.location.href; 
} 
} 
} 
}</url>
    </webLinks>
    <webLinks>
        <fullName>Deal_Hash_Inquire</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Deal Hash Inquire</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/28.0/connection.js&quot;)}

var dealhashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;);
dealhashObj.id = &quot;{!Deal_Hash__c.Id}&quot;;
var status=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;;
//alert(status);

if(status != &apos;Review completed&apos;){
alert(&apos;RDS Status must be Review Completed before inquiring Deal Hash&apos;);
}
else{
dealhashObj.RDS_object_status__c=&apos;DealHash Inquiry API in Progress&apos;;
sforce.connection.update([dealhashObj]);
window.location.href = window.location.href;
}</url>
    </webLinks>
    <webLinks>
        <fullName>Inflight_Cancel</fullName>
        <availability>online</availability>
        <description>This button  allows users to perform Inflight Cancel of Premise(s).</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Inflight Cancel</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)}; 
var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0)
{
for (var i=0 ; i&lt;opptyCheck.length; i++)
{
var oppRecordName =opptyCheck [i];

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot;
errorsFound1 = true;
}
if (errorsFound1)
{
alert(errorMsg1 );
}
}
else{
var dealhashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;); 
dealhashObj.id = &quot;{!Deal_Hash__c.Id}&quot;; 
var profName= &apos;{!$Profile.Name}&apos;; 
var hasCancelFailed = &quot;{!Deal_Hash__c.Has_Cancel_Failed__c}&quot;; 
var isContractRenewalLocked = &quot;{!Deal_Hash__c.Contract_Renewal_Lock__c}&quot;;
var isContractRenewalFlow = &quot;{!Deal_Hash__c.isContractRenewalFlow__c}&quot;;

var premTTrecs = sforce.connection.query(&quot;Select RDS_Version__c,Site_Status__c,Notification_Status__c from RDS_Premise_Details__c Where DealHash__c=&apos;{!Deal_Hash__c.Id}&apos;&quot;);
var premTT = premTTrecs.getArray(&quot;records&quot;); 
var lockedRec=false; 
for(var i=0;i&lt;premTT.length;i++) 
{ 
if(premTT[i].Notification_Status__c ==&apos;Received&apos;||premTT[i].Notification_Status__c ==&apos;Update in progress&apos;){
 lockedRec=true; 
} 
} 
if(lockedRec == true) 
{ 
alert(&apos;This premise is currently locked for editing&apos;); 
} 

else 
{ 
var premDResult = sforce.connection.query(&quot;SELECT Id,Name,Site_Status__c,Current_Version__c, RDS_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND Current_Version__c = true AND (Site_Status__c = &apos;NEW&apos; OR Site_Status__c = &apos;PENDING&apos; OR Site_Status__c = &apos;&apos;)&quot;);
var premRecordArray = premDResult.getArray(&quot;records&quot;); 
var premCRResult = sforce.connection.query(&quot;SELECT Id,Name,Site_Status__c,Current_Version__c, RDS_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND Current_Version__c = true AND Site_Status__c = &apos;Pending Contact Renewal&apos; &quot;);
var premCRRecordArray = premCRResult.getArray(&quot;records&quot;);

		if(profName.trim()== &apos;System Administrator&apos; || profName.trim()== &apos;SI_EBM Admin&apos; || profName.trim()== &apos;SI_EBM_DEV_OPS&apos; || userProfile==&apos;System Admin Read Only(Developers/Testers)&apos;){
			if(isContractRenewalFlow == true || premCRRecordArray.length&gt;0 ){
				alert(&apos;Contract renewal flow in the Portal is in progress. Try after some time.&apos;);
			}else if(premRecordArray.length == 0){ 
				alert(&apos;No Premises in NEW or PENDING status are available to be cancelled&apos;); 
			}else if(premRecordArray.length&gt;0 &amp;&amp; hasCancelFailed == false) 
			{ 
				window.open(&apos;/apex/Cancel_Inflight_VF?id={!Deal_Hash__c.Id}&apos;); 
			}else if(premRecordArray.length&gt;0 &amp;&amp; hasCancelFailed == true){ 
				alert(&apos;Previous Inflight Cancel was not completed. Please Retrigger Inflight Cancel.&apos;);
			}
		} 
		else{ 
			alert(&apos;Only EBM Admin, EBM DEV OPS or System Admin is allowed to Cancel Inflight.&apos;);
		} 
	}
}</url>
    </webLinks>
    <webLinks>
        <fullName>Inventory_Lookup</fullName>
        <availability>online</availability>
        <description>To perform Inventory Lookup &amp; obtain latest Site Status on related Premise records.</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Inventory Lookup</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)}; 
{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/apex.js&quot;)} 

var dealhashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;); 
var dealHcreateSts = &quot;{!Deal_Hash__c.IsDealHashCreationSuccess__c}&quot;; 
dealhashObj.id = &quot;{!Deal_Hash__c.Id}&quot;; 
var invetrySts = &quot;{!Deal_Hash__c.Inventory_Lookup_Status__c}&quot;; 
var profName= &apos;{!$Profile.Name}&apos;; 
if(profName.trim()== &apos;System Administrator&apos; || profName.trim()== &apos;System Admin Read Only(Developers/Testers)&apos; || profName.trim()== &apos;SI_EBM Admin&apos; || profName.trim()== &apos;SI_EBM_DEV_OPS&apos;){
if({!Opportunity.Manualflow__c}){ 
alert(&apos;The Manual flow flag is checked on Order : {!Opportunity.Name} hence this operation is not allowed&apos;); 
}else if(dealHcreateSts == false){ 
alert(&apos;Please wait for the Deal Hash creation to be successful before placing Inventory Lookup Call&apos;); 
} else if(invetrySts == &apos;In Progress&apos;){ 
alert(&apos;Inventory Lookup Call is already In Progress, Please wait for a Success or Failed Status to re-trigger.&apos;); 
} else{ 
sforce.apex.execute(&quot;API_upateValidationFieldsOnPremise&quot;,&quot;upateValidationFieldsOnPremise&quot;,{dealHId : &quot;{!Deal_Hash__c.Id}&quot;, version : &quot;{!Deal_Hash__c.RDS_Version_Select__c}&quot;}); 
window.location.reload(); 
}
} else {
alert(&apos;Only EBM Admin, EBM DEV OPS or System Admin is allowed to perform Inventory lookup.&apos;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>MACD_Change</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>MACD Change</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)}; 
{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/apex.js&quot;)}; 
var profName= &apos;{!$Profile.Name}&apos;; 
var isContractRenewalLocked = &quot;{!Deal_Hash__c.Contract_Renewal_Lock__c}&quot;; 
var isContractRenewalFlow = &quot;{!Deal_Hash__c.isContractRenewalFlow__c}&quot;;
var errorMsg = &quot;&quot;; 
var errorsFound = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1 &quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0) 
{ 
for (var i=0 ; i&lt;opptyCheck.length; i++) 
{ 
var oppRecordName =opptyCheck [i]; 

errorMsg += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot; 
errorsFound = true; 
} 
if (errorsFound ) 
{ 
alert(errorMsg); 
} 
} 
else{ 

var premTTrecs = sforce.connection.query(&quot;Select RDS_Version__c,Site_Status__c,Notification_Status__c from RDS_Premise_Details__c Where DealHash__c=&apos;{!Deal_Hash__c.Id}&apos;&quot;);
 var premTT = premTTrecs.getArray(&quot;records&quot;); 
var lockedRec=false; 
for(var i=0;i&lt;premTT.length;i++) 
{ 
if(premTT[i].Notification_Status__c ==&apos;Received&apos;||premTT[i].Notification_Status__c ==&apos;Update in progress&apos;){
 lockedRec=true; 
} 
} 
if(lockedRec == true) 
{ 
alert(&apos;This premise is currently locked for editing&apos;); 
} 


else{ 

if(profName.trim()== &apos;System Administrator&apos; || profName.trim()== &apos;SI_EBM_DEV_OPS&apos; || profName.trim()==&apos;System Admin Read Only(Developers/Testers)&apos;){
 sforce.apex.execute(&quot;CreateValidationRecordsForMACDBackend&quot;,&quot;CreateValidationRecordsForMACDBackend&quot;,{dealHId : &quot;{!Deal_Hash__c.Id}&quot;,QuoteId:&quot;&quot;,PremiseId:&quot;&quot;});
var validartionRecResult = sforce.connection.query(&quot;SELECT Id FROM RDS_Validation__c WHERE DealHashID__c=&apos;{!Deal_Hash__c.Id}&apos; AND Premise__r.Site_Status__c=&apos;ACTIVE&apos;  AND Premise__r.Current_Version__c=true ORDER BY CreatedDate DESC&quot;);
 valRecordArray = validartionRecResult.getArray(&quot;records&quot;); 

var premCRResult = sforce.connection.query(&quot;SELECT Id,Name,Site_Status__c,Current_Version__c, RDS_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND Current_Version__c = true AND Site_Status__c = &apos;Pending Contact Renewal&apos; &quot;);
var premCRRecordArray = premCRResult.getArray(&quot;records&quot;);

            if(isContractRenewalFlow == true || premCRRecordArray.length &gt; 0) {
                alert(&apos;Contract renewal flow in the Portal is in progress. Try after some time.&apos;);
            }else if(valRecordArray.length == 0) {
                alert(&apos;No Premises in Active status are available&apos;);
            }else {
                var valRecordID = valRecordArray[0].Id;
                window.open(&apos;/apex/API_MACD_Change?id=&apos; + valRecordID + &apos; &apos;);
            }
        }else {
            alert(&apos;Only EBM DEV OPS or System Admin is allowed to perform a MACD Change.&apos;);
        }
    }
}</url>
    </webLinks>
    <webLinks>
        <fullName>MACD_Disconnect</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>MACD Disconnect</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)};

var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0) 
{ 
for (var i=0 ; i&lt;opptyCheck.length; i++) 
{ 
var oppRecordName =opptyCheck [i]; 

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot; 
errorsFound1 = true; 
} 
if (errorsFound1) 
{ 
alert(errorMsg1 ); 
} 
} 
else{ 
 
var profName= &apos;{!$Profile.Name}&apos;; 
var isContractRenewalLocked = &quot;{!Deal_Hash__c.Contract_Renewal_Lock__c}&quot;;
var isContractRenewalFlow = &quot;{!Deal_Hash__c.isContractRenewalFlow__c}&quot;;

var premDResult = sforce.connection.query(&quot;SELECT Id,Name,Class_Of_Service_USOC__c,Customer_Project_Number__c,Record_Issue_Date__c, Service_Type__c, BAN__c, Current_Version__c, RDS_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND Current_Version__c = true AND (Site_Status__c = &apos;ACTIVE&apos; OR Site_Status__c = &apos;SOFT_DISCONNECT&apos; OR ( CNR_Billing__c = true AND Site_Status__c = &apos;PENDING&apos;))&quot;); 
var premRecordArray = premDResult.getArray(&quot;records&quot;); 

var premCRResult = sforce.connection.query(&quot;SELECT Id,Name,Site_Status__c,Current_Version__c, RDS_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND Current_Version__c = true AND Site_Status__c = &apos;Pending Contact Renewal&apos; &quot;);
var premCRRecordArray = premCRResult.getArray(&quot;records&quot;);

    if(profName.trim() == &apos;System Administrator&apos; || profName.trim() == &apos;SI_EBM Admin&apos; || profName.trim() == &apos;SI_EBM_DEV_OPS&apos; || profName.trim() == &apos;System Admin Read Only(Developers/Testers)&apos;) {
        if(isContractRenewalFlow == true || premCRRecordArray.length &gt; 0) {
            alert(&apos;Contract renewal flow in the Portal is in progress. Try after some time.&apos;);
        }else if(premRecordArray.length == 0) {
            alert(&apos;There are no Premise Records available for Disconnect&apos;);
        }else {
            window.open(&apos;/apex/API_MACD_Disconnect?id={!Deal_Hash__c.Id}&apos;);
        }
    }else {
        alert(&apos;Only EBM Admin, EBM DEV OPS or System Admin is allowed to perform a MACD Disconnect.&apos;);
    }
}</url>
    </webLinks>
    <webLinks>
        <fullName>MACD_Update_Deal_Hash</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>MACD Update Deal Hash</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)};
{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/apex.js&quot;)}; 
var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var contactIdString = &quot;&quot;; 
var firstRecord = true; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0) 
{ 
for (var i=0 ; i&lt;opptyCheck.length; i++) 
{ 
var oppRecordName =opptyCheck [i]; 

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot; 
errorsFound1 = true; 
} 
if (errorsFound1) 
{ 
alert(errorMsg1 ); 
} 
} 
else{ 

var selectversion=&apos;{!Deal_Hash__c.RDS_Version_Select__c}&apos;; 
var macdOppRec = sforce.connection.query(&quot;Select Id,Credit_Check_Status__c,IsCDG_SubAccountSucess__c,Manual_Pricing_Schedule_Complete__c,IsDeal_Rate_Plan_Sucess__c,ContersignedDate__c,IsCircuit_ID_USOSucess__c from Opportunity Where Id = &apos;{!Deal_Hash__c.Selected_Opportunity__c}&apos;&quot;); 
var macdOpp = macdOppRec.getArray(&quot;records&quot;); 
var creditchk = macdOpp[0].Credit_Check_Status__c; 
var counterSignDate = macdOpp[0].ContersignedDate__c;
var isRunCktCheck=false;
// var CDGstatus = macdOpp[0].IsCDG_SubAccountSucess__c; 

var circuitIdstatus = macdOpp[0].IsCircuit_ID_USOSucess__c; 
//alert(&apos;Circuit Status on Oppty&apos;+circuitIdstatus);
//var md5status = macdOpp[0].IsEncrypted_Password_APISucess__c; GCS Commented 6/10 - step not needed. 
//var dealrateplanStatus = macdOpp[0].IsDeal_Rate_Plan_Sucess__c; 
var dealHashCreationStatus = {!Deal_Hash__c.IsDealHashCreationSuccess__c}; 
//var recordtype= macdOpp[0].RecordType; 
var pricingScheduleComplete = macdOpp[0].Manual_Pricing_Schedule_Complete__c; 
if(selectversion== &apos;ALL&apos;) 
{ 
alert(&apos;Please select an appropriate Version in RDS Version Select&apos;); 
} else if(creditchk != &apos;Credit Check Approved&apos; &amp;&amp; counterSignDate) 
{ 
if(creditchk == &apos;Credit Check Denied&apos;){ 
alert(&apos;Credit check has been Denied and it has to be approved in order to proceed&apos;); 
}else { 
alert(&apos;MACD Update Deal Hash is not permitted till Credit Check Status is Approved.&apos;); 
} 
} 
else { 
var premDResult = sforce.connection.query(&quot;SELECT Id,Name,Class_Of_Service_USOC__c,MACD_Change_Type__c,Customer_Project_Number__c,Record_Issue_Date__c, Service_Type__c, BAN__c,MACD_Type__c,RDS_Version__c,Site_Status__c,Current_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND RDS_Version__c={!Deal_Hash__c.RDS_Version_Select__c} AND Current_Version__c=true AND Site_Status__c!=&apos;CANCELLED&apos;&quot;); 
var premRecordArray = premDResult.getArray(&quot;records&quot;); 
if(premRecordArray.length==0) 
{ 
alert(&apos;No sites are available for Update Deal Hash&apos;); 
} 
else if(premRecordArray.length&gt;0){ 
var macdType=premRecordArray[0].MACD_Change_Type__c;


var firstRecord = true; 
var RDSStatus=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;; 
var ArchiveStatus=&apos;{!Deal_Hash__c.Archive_Status__c}&apos;; 
var MACDupdate=&apos;{!Deal_Hash__c.MACD_Update_Status__c}&apos;; 
var RDSbundle=&apos;{!Deal_Hash__c.Bundle_Account_Number__c}&apos;; 
var contractno=&apos;{!Deal_Hash__c.Contract_Number__c}&apos;; 
var custdefgroupid=&apos;{!Deal_Hash__c.Customer_Defining_Group_ID__c}&apos;; 
var custid=&apos;{!Deal_Hash__c.Customer_ID__c}&apos;; 
var HierarchyID=&apos;{!Deal_Hash__c.Hierarchy_ID__c}&apos;; 
var invaccno=&apos;{!Deal_Hash__c.Invoice_Account_Number__c}&apos;; 
var mastcustno=&apos;{!Deal_Hash__c.Master_Customer_Number__c}&apos;; 
var sfdcendcustid=&apos;{!Deal_Hash__c.SFDC_Account_End_Customer_ID_AEJ_ID__c}&apos;; 
var startdate=&apos;{!Deal_Hash__c.Start_Date__c}&apos;; 
var subaccno=&apos;{!Deal_Hash__c.Sub_Account_Number__c}&apos;; 
var term=&apos;{!Deal_Hash__c.Term__c}&apos;; 
var saContractCheckbox=&apos;{!Deal_Hash__c.IsSAContractSuccess__c}&apos;; 

var version = &apos;{!Deal_Hash__c.RDS_Version__c}&apos;; 
var premReviewed = {!Deal_Hash__c.Is_Review_Complete_for_Version__c}; 
var macdUpdateStatusOnOppty = true; 

var macdOpptyResult = sforce.connection.query(&quot;Select Id, MACD_Update_Deal_hash_Status__c FROM Opportunity WHERE Id =&apos;{!Deal_Hash__c.Selected_Opportunity__c}&apos; limit 1&quot;); 
var macdOppArray = macdOpptyResult.getArray(&quot;records&quot;); 
for (var i=0 ; i&lt;macdOppArray.length; i++) 
{ 
var macdOppRecord =macdOppArray[i]; 
if (macdOppRecord.MACD_Update_Deal_hash_Status__c == &quot;Failed&quot;) 
{ 
macdUpdateStatusOnOppty = false; 
} 
} 

var pVersion; 
var PmacdType; 

var userProfile = &apos;{!User.Profile}&apos;; 
var isUpdateUser = false; 
if(userProfile==&apos;SI_EBM_DEV_OPS&apos; || userProfile==&apos;System Administrator&apos; || userProfile==&apos;System Admin Read Only(Developers/Testers)&apos;){ 
var isUpdateUser = true; 
} 
if(isUpdateUser == false){ 
alert(&apos;Deal Hash Update is not allowed for your profile&apos;); 
}else{ 

if(&apos;{!Opportunity.RecordType}&apos;==&quot;MACD&quot; &amp;&amp; pricingScheduleComplete==&apos;false&apos;) 
{ 
alert(&apos;Manual pricing schedule should be completed&apos;); 
} 

//if(&apos;{!Opportunity.RecordType}&apos;!=&quot;MACD&quot;) 
//{ 
//alert(&apos;This action can be performed only on record of type MACD&apos;); 
//} 

if(version==1 || selectversion == 1) 
{ 
alert(&apos;This action can only be performed for RDS Version &gt; 1&apos;); 
} 

/*if(&apos;{!Deal_Hash__c.RDS_Version_Select__c}&apos;==1) 
{ 
alert(&apos;This action can only be performed if RDS Version Selected &gt; 1&apos;); 
}*/ 
else { 

if(RDSStatus==&apos;Received&apos; || RDSStatus==&apos;Review in progress&apos;|| RDSStatus==&apos;Edit period expired&apos; || RDSStatus==&apos;&apos; || premReviewed == false) 
{ 
alert(&apos;RDS review is not complete&apos;); 
} 
else if((ArchiveStatus == &apos;In Progress&apos;)&amp;&amp; ArchiveStatus != &apos;Failed&apos;) 
{ 
alert(&apos;Archival or Deal Hash creation is already initiated&apos;); 
} 
else if((MACDupdate == &apos;In Progress&apos;)&amp;&amp; MACDupdate != &apos;Failed&apos;) 
{ 
alert(&apos;Archival or Deal Hash creation is already initiated&apos;); 
} 
else if(macdUpdateStatusOnOppty == false) 
{ 
alert(&apos;Please Click on Retrigger MACD Update Deal Hash Button to Retrigger MACD Update Deal Hash Call.&apos;); 
} 
else if(dealHashCreationStatus == true &amp;&amp; isUpdateUser == false) 
{ 
alert(&apos;Deal Hash creation is already initiated&apos;); 
} 
else if(dealHashCreationStatus == false &amp;&amp; version == 1){ 
alert(&apos;Please Click on Create Deal hash button as the deal hash has not yet been created.&apos;); 
} 
//else if(saContractCheckbox == false ) 
//{ 
//alert(&apos;SA contract Subscription must be successful before requesting for creating deal hash&apos;); 
//} 
else if((saContractCheckbox == true || saContractCheckbox == false) &amp;&amp; dealHashCreationStatus == true &amp;&amp; isUpdateUser == false) 
{ 
alert(&apos;Deal Hash creation is already initiated&apos;); 
} 
else if(saContractCheckbox == true || saContractCheckbox == false ) 
{ 

// if(dealrateplanStatus == &apos;false&apos;){ 
// errorMsg1 += &quot;DealRate Plan must be successful before requesting for creating deal hash.\r\n&quot; 
// errorsFound1 = true; 
//} 
// if(CDGstatus == &apos;false&apos;){ 
// errorMsg1 += &quot;CDG/SubAccount must be successful before requesting for creating deal hash.\r\n&quot; 
// errorsFound1 = true; 
//} 
//if(md5status == false){ 
//errorMsg1 += &quot;Encrypted Password must be successful before requesting for creating //deal hash.\r\n&quot; 
//errorsFound1 = true; 
//} 

if(circuitIdstatus == &apos;false&apos; ){
if( macdType!=&apos;UBB Add&apos; &amp;&amp; macdType!=&apos;UBB Change&apos; &amp;&amp; macdType!=&apos;UBB Remove&apos; &amp;&amp; macdType!=&apos;CoS Change&apos; &amp;&amp; macdType!=&apos;Port Speed Change&apos; &amp;&amp; macdType!=&apos;CoS Add&apos; &amp;&amp; macdType!=&apos;CoS Remove&apos;&amp;&amp; macdType!= &apos;Port/Access Speed Change&apos;){ 
errorMsg1 += &quot;Circuit ID/USO must be successful before requesting for creating deal hash.\r\n&quot; 
errorsFound1 = true; 
}
} 
if(RDSbundle==&apos;&apos; || RDSbundle==null){ 
errorMsg1 += &quot;Deal Hash &apos;Bundle Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(contractno==&apos;&apos; || contractno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Contract Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(custdefgroupid==&apos;&apos; || custdefgroupid==null){ 
errorMsg1 += &quot;Deal Hash &apos;Customer Defining Group ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(custid==&apos;&apos; || custid==null){ 
errorMsg1 += &quot;Deal Hash &apos;Customer ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 

} 
if(HierarchyID==&apos;&apos; || HierarchyID==null){ 
errorMsg1 += &quot;Deal Hash &apos;Hierarchy ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(invaccno==&apos;&apos; || invaccno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Invoice Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(mastcustno==&apos;&apos; || mastcustno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Master Customer Number &apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(sfdcendcustid==&apos;&apos; || sfdcendcustid==null){ 
errorMsg1 += &quot;Deal Hash &apos;SFDC End Customer ID&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(startdate==&apos;&apos; || startdate==null){ 
errorMsg1 += &quot;Deal Hash &apos;Start Date&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(subaccno==&apos;&apos; || subaccno==null){ 
errorMsg1 += &quot;Deal Hash &apos;Sub Account Number&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 

if(term==&apos;&apos; || term==null){ 
errorMsg1 += &quot;Deal Hash &apos;Term&apos; must be populated prior to requesting Creation of Deal Hash.\r\n&quot; 
errorsFound1 = true; 
} 
if(selectversion == &apos;&apos; || selectversion == &quot;ALL&quot; || selectversion == 1){ 
errorMsg1 += &quot;Please select rds version &gt; 1\r\n&quot; 
errorsFound1 = true; 
} 

//PremiseCheck(); 
function PremiseCheck() 
{ 
for (var i=0 ; i&lt;premRecordArray.length; i++) 
{ 
var oppRecord =premRecordArray[i]; 
var pid = oppRecord.Id; 
PmacdType = oppRecord.MACD_Type__c; 
if (oppRecord.Class_Of_Service_USOC__c== null || oppRecord.Class_Of_Service_USOC__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Class of Service USOC field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (oppRecord.Record_Issue_Date__c== null || oppRecord.Record_Issue_Date__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Record Issue Date field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (oppRecord.Customer_Project_Number__c== null || oppRecord.Customer_Project_Number__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Customer Project Number field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if ((oppRecord.Service_Type__c == &quot;ASE&quot;)&amp;&amp;(oppRecord.BAN__c== null || oppRecord.BAN__c== &quot;&quot;)) 
{ 
errorMsg1 += &quot;The BAN field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (!firstRecord) { 
contactIdString += &quot;, &quot;; 
} 
contactIdString += &quot;&apos;&quot;+pid+&quot;&apos;&quot;; 
firstRecord = false; 


} 
} 
PremiseCheck(); 
function cvlan(){ 
if(contactIdString != &quot;&quot;){ 
var cvlanQuery = &quot;Select Service_Code__c,ATT_POP_CLLI__c,Required_L3_POP_CLLI__c,Name from Circuit_and_VLAN_Details__c WHERE Premise__c IN (&quot;+contactIdString+&quot;) and (Service_Code__c=null OR ATT_POP_CLLI__c=null OR Required_L3_POP_CLLI__c=null) &quot;; 

var cvlanResult = sforce.connection.query(cvlanQuery); 
var vlanArray = cvlanResult.getArray(&quot;records&quot;); 
for (var i=0 ; i&lt;vlanArray.length; i++) 
{ 
var vlanRecord =vlanArray[i]; 
var prec =premRecordArray[i]; 
if (vlanRecord.Service_Code__c== null || vlanRecord.Service_Code__c== &quot;&quot;) 
{ 

errorMsg1 += &quot;The Service Code on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if (vlanRecord.ATT_POP_CLLI__c== null || vlanRecord.ATT_POP_CLLI__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;The ATT POP CLLI on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
if(prec.Service_Type__c == &quot;ASE&quot;) 
{ 
if (vlanRecord.Required_L3_POP_CLLI__c== null || vlanRecord.Required_L3_POP_CLLI__c== &quot;&quot;) 
{ 
errorMsg1 += &quot;Required L3 POP CLLI field on Circuit VLAN and Details record &quot;+vlanRecord.Name+&quot; of parent &quot;+prec.Name+&quot; must be populated.\r\n&quot; 
errorsFound1 = true; 
} 
} 
} 
} 
} 
cvlan(); 
function aCktBlank() 
{ 
var accCktQuery = &quot;Select RDS_DealHashId__c,ATT_Gateway_Circuit_ID__c,EC_Gateway_Circuit_ID__c,Name from RDS_Access_Circuit_ID__c WHERE RDS_DealHashId__c =&apos;{!Deal_Hash__c.Id}&apos; and Circuit_and_VLAN_Details__r.Access_Method__c = &apos;SEAMLESS_CONTROL_PLANE&apos; &quot;; 
var accCktResult = sforce.connection.query(accCktQuery); 
var accCktArray = accCktResult.getArray(&quot;records&quot;); 
for(var j=0 ;j&lt;accCktArray.length ; j++) 
{ 
var accCktRecord =accCktArray[j]; 
if(accCktRecord.ATT_Gateway_Circuit_ID__c ==&apos;&apos; || accCktRecord.ATT_Gateway_Circuit_ID__c==null ) 
{ 
errorMsg1 += &quot; The ATT Gateway Circuit ID on &quot; + accCktRecord.Name + &quot; should not be blank before creating deal hash.\r\n&quot; 
errorsFound1 = true; 
} 
if( accCktRecord.EC_Gateway_Circuit_ID__c==&apos;&apos; || accCktRecord.EC_Gateway_Circuit_ID__c==null) 
{ 
errorMsg1 += &quot; The EC Gateway Circuit ID on &quot; + accCktRecord.Name + &quot; should not be blank before creating deal hash .\r\n&quot; 
errorsFound1 = true; 
} 
} 
} 
aCktBlank(); 
if (errorsFound1) 
{ 
alert(errorMsg1); 
} 
else{ 
sforce.apex.execute(&quot;API_calculateCRDDOnPremise&quot;,&quot;calculateCRDDOnPremise&quot;,{dealHId : &quot;{!Deal_Hash__c.Id}&quot;, version : &quot;{!Deal_Hash__c.RDS_Version_Select__c}&quot;}); 
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;); 
RDSDealHashObj.id = &quot;{!Deal_Hash__c.Id}&quot;; 
if(dealHashCreationStatus == true &amp;&amp; isUpdateUser == true){ 
if(PmacdType==&apos;A&apos;){ 
RDSDealHashObj.Action__c = &apos;ADD_PREMISE&apos;; 
} else if(PmacdType==&apos;D&apos;){ 
RDSDealHashObj.Action__c = &apos;UPDATE_PREMISE&apos;; 
} else if(PmacdType==&apos;C&apos;){ 
RDSDealHashObj.Action__c = &apos;CHANGE_FEATURE&apos;; 
} 
} 
//RDSDealHashObj.RDS_object_status__c =&apos;Deal Hash Creation API in Progress&apos;; 
RDSDealHashObj.RenewedQuote__c = null;
RDSDealHashObj.MACD_Update_Status__c = &apos;In Progress&apos;; 
RDSDealHashObj.Archive_Status__c = &apos;In Progress&apos;; 
var rdsupdate=sforce.connection.update([RDSDealHashObj]); 
window.location.href = window.location.href; 
} 
} 
} 
} 
} 
else { 
alert(&apos;No Premise Record Found for the selected version.&apos;); 
} 
}
}</url>
    </webLinks>
    <webLinks>
        <fullName>MD5_Validation_Report</fullName>
        <availability>online</availability>
        <displayType>link</displayType>
        <linkType>javascript</linkType>
        <masterLabel>MD5 Validation Report</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)}
var V6V4Records = sforce.connection.query(&quot;SELECT ID FROM RDS_V4_Family_Data_del__c  Where Routing_Protocol__c==&apos;&apos; and RDS_V4_Family_Data_del__r.RDS_VLAN_Information_V4__r.Circuit_and_VLAN_Details__r.Premise__r.DealHash__r.ID
= &apos;{!Deal_Hash__c.Id}&apos;&quot;);
var request = V6V4Records.getArray(&quot;records&quot;); 
if(request.length==0) 
{
alert(&apos;Test Successfull&apos;)
}
else{
alert (&quot;The Encripted Password and/or rounting protocal does not comply with the 
   Requirement for those Fields. /n On click of OK you will be shown the report.&quot;);
/00OJ0000000TEyg?pv4={!Deal_Hash__c.Opportunity__c}


}</url>
    </webLinks>
    <webLinks>
        <fullName>RDS_History_Tracking</fullName>
        <availability>online</availability>
        <displayType>link</displayType>
        <encodingKey>UTF-8</encodingKey>
        <hasMenubar>false</hasMenubar>
        <hasScrollbars>true</hasScrollbars>
        <hasToolbar>false</hasToolbar>
        <height>600</height>
        <isResizable>true</isResizable>
        <linkType>url</linkType>
        <masterLabel>RDS History Tracking</masterLabel>
        <openType>newWindow</openType>
        <position>none</position>
        <protected>false</protected>
        <showsLocation>false</showsLocation>
        <showsStatus>false</showsStatus>
        <url>/00OJ0000000TDIe?pv0={!Deal_Hash__c.Name}</url>
    </webLinks>
    <webLinks>
        <fullName>RDS_Review_Completed</fullName>
        <availability>online</availability>
        <description>Review Completed with MD5 Checks</description>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>RDS Review Completed</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/28.0/connection.js&quot;)};
{!REQUIRESCRIPT(&quot;/soap/ajax/28.0/apex.js&quot;)};
var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0) 
{ 
for (var i=0 ; i&lt;opptyCheck.length; i++) 
{ 
var oppRecordName =opptyCheck [i]; 

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot; 
errorsFound1 = true; 
} 
if (errorsFound1) 
{ 
alert(errorMsg1 ); 
} 
} 
else{ 

try{
var premTTrecs = sforce.connection.query(&quot;Select Transport_Type__c,Current_Version__c,Site_Status__c,RDS_Version__c from RDS_Premise_Details__c Where DealHash__c = &apos;{!Deal_Hash__c.Id}&apos;&quot;);

var premTT = premTTrecs.getArray(&quot;records&quot;);

/*if(premTT[0].Transport_Type__c ==&quot;SwitchedEthernet&quot; || premTT[0].Transport_Type__c==&quot;DedicatedEthernet&quot;)
{
var V4Records = sforce.connection.query(&quot;SELECT ID,Routing_Protocol__c FROM RDS_V4_Family_Data__c WHERE RDS_V4_Family_Data__c.RDS_VLAN_Information_V4__r.Circuit_and_VLAN_Details__r.Premise__r.DealHash__r.ID=&apos;{!Deal_Hash__c.Id}&apos; AND Routing_Protocol__c !=&apos;BGP4&apos;&quot;);
var V6Records = sforce.connection.query(&quot;SELECT ID,Routing_Protocol__c FROM V6_Family_Data__c WHERE V6_Family_Data__c.RDS_VLAN_Information__r.Circuit_and_VLAN_Details__r.Premise__r.DealHash__r.ID= &apos;{!Deal_Hash__c.Id}&apos; AND Routing_Protocol__c !=&apos;BGP4&apos;&quot;);
}

else if(premTT[0].Transport_Type__c ==&quot;nT1&quot; || premTT[0].Transport_Type__c==&quot;T1&quot;)
{
var V4Records = sforce.connection.query(&quot;SELECT ID,Routing_Protocol__c FROM RDS_V4_Family_Data__c WHERE RDS_V4_Family_Data__c.RDS_Circuit_and_VLAN_Details_V4__r.Premise__r.DealHash__r.ID=&apos;{!Deal_Hash__c.Id}&apos; AND Routing_Protocol__c !=&apos;BGP4&apos;&quot;);
var V6Records = sforce.connection.query(&quot;SELECT ID,Routing_Protocol__c FROM V6_Family_Data__c WHERE V6_Family_Data__c.RDS_Circuit_and_VLAN_Details_V6__r.Premise__r.DealHash__r.ID= &apos;{!Deal_Hash__c.Id}&apos; AND Routing_Protocol__c !=&apos;BGP4&apos;&quot;);
}

var v4request = V4Records.getArray(&quot;records&quot;);
var v6request = V6Records.getArray(&quot;records&quot;);*/
var dealhashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;);
dealhashObj.id = &quot;{!Deal_Hash__c.Id}&quot;;
var reviewCheck = &quot;{!Deal_Hash__c.IsReviewCompleted__c}&quot;;
var status=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;;
var version = &apos;{!Deal_Hash__c.RDS_Version__c}&apos;;
var creditchk=&quot;{!Deal_Hash__c.Opportunity_Credit_Check_Status__c}&quot;;
var rateplanid =&quot;{!Deal_Hash__c.Rate_Plan_ID__c}&quot;;
var subacc = &apos;{!Deal_Hash__c.Sub_Account_Number__c}&apos;;
var cdg = &apos;{!Deal_Hash__c.Customer_Defining_Group_ID__c}&apos;;
var selectversion=&apos;{!Deal_Hash__c.RDS_Version_Select__c}&apos;;

var macdOppRec = sforce.connection.query(&quot;Select Id,Credit_Check_Status__c,ContersignedDate__c from Opportunity Where Id = &apos;{!Deal_Hash__c.Selected_Opportunity__c}&apos; limit 1&quot;); 
var macdOpp = macdOppRec.getArray(&quot;records&quot;); 
var macdcreditchk = macdOpp[0].Credit_Check_Status__c; 
var countersigned = macdOpp[0].ContersignedDate__c;

if(selectversion != &quot;ALL&quot; ){
var premDResult = sforce.connection.query(&quot;SELECT Id,Name,Premise_Street_Number__c,Premise_Street_Name__c, MACD_Type__c,MACD_Change_Type__c,Is_Reviewed__c,RDS_Version__c,Current_Version__c,Site_Status__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND RDS_Version__c={!Deal_Hash__c.RDS_Version_Select__c} AND Current_Version__c=true AND Site_Status__c!=&apos;CANCELLED&apos;&quot;);

var premRecordArray = premDResult.getArray(&quot;records&quot;);

var errorMsg = &quot;&quot;;
var errorsFound = false;
var adderrorMsg = &quot;&quot;;
var adderrorsFound = false;
var selectversion=&apos;{!Deal_Hash__c.RDS_Version_Select__c}&apos;;
var noerror = true;
var userProfile = &apos;{!User.Profile}&apos;;
var isUpdateUser = false;

if(userProfile==&apos;SI_EBM_DEV_OPS&apos; || userProfile==&apos;System Administrator&apos; || userProfile== &apos;SI_EBM Technical Ops&apos;|| userProfile==&apos;SI_EBM Admin&apos; || userProfile==&apos;System Admin Read Only(Developers/Testers)&apos; ){
var isUpdateUser = true;
}
if(isUpdateUser == false){
alert(&apos;Review Complete is not allowed for your profile.&apos;);
}
else if(status == &apos;&apos;)
{
alert(&apos;RDS is not yet received to complete the review.&apos;);
}
else if(creditchk != &apos;Credit Check Approved&apos;)
{
alert(&apos;RDS Completion is not permitted till Credit Check Status is Approved.&apos;);
}
else if(selectversion != &quot;ALL&quot; &amp;&amp; selectversion != &quot;1&quot; &amp;&amp; macdcreditchk != &apos;Credit Check Approved&apos; &amp;&amp; countersigned != null) 
{ 
alert(&apos;MACD RDS Completion is not permitted till Credit Check Status is Approved&apos;); 
}
else if((status == &apos;Deal Hash Creation API in Progress&apos; || status == &apos;Deal Hash Creation API Successful&apos; || status == &apos;Deal Hash Creation API Failed&apos; ) &amp;&amp; selectversion == &quot;1&quot;)
{
alert(&apos;RDS Review is already completed.&apos;);
}
else if(reviewCheck == true &amp;&amp; selectversion == &quot;1&quot;)
{
alert(&apos;RDS Review is already completed.&apos;);
}
else if((selectversion == &quot;ALL&quot; || selectversion == &quot;1&quot;) &amp;&amp; reviewCheck == true){
alert(&apos;Please Select a valid version from the select version picklist.&apos;);
}
else if(rateplanid == &apos;&apos;){
alert(&apos;Rate Plan ID is not Populated&apos;);
}
else if(cdg == &apos;&apos;){
alert(&apos;Customer Defining Group is not Populated&apos;);
}
else if(subacc == &apos;&apos;){
alert(&apos;SubAccount is not Populated&apos;);
}
else if(premRecordArray.length==0)
{
alert(&apos;There are no eligible sites for Review Completion&apos;);
}
else{
function PremiseCheck()
{
for (var i=0 ; i&lt;premRecordArray.length; i++)
{
var oppRecord =premRecordArray[i];
var pid = oppRecord.Id;
if (oppRecord.Premise_Street_Number__c== null || oppRecord.Premise_Street_Number__c== &quot;&quot;)
{

errorMsg += &quot;The Premise Street Number field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot;
errorsFound = true;
}
if (oppRecord.Premise_Street_Name__c == null || oppRecord.Premise_Street_Name__c == &quot;&quot;)
{

errorMsg += &quot;The Premise Street Name field on Premise Detail record &quot;+oppRecord.Name+&quot; must be populated.\r\n&quot;
errorsFound = true;
}

}
}

PremiseCheck();

function addPremiseCheck(){
var premCount = 0;
var premUBBCount = 0;
if (premRecordArray.length &gt; 0){
for(var i=0 ; i&lt;premRecordArray.length; i++){

var premRecordd =premRecordArray[i];
var premid = premRecordd.Id;
var premVer = parseFloat(premRecordd.RDS_Version__c).toFixed(1);
var isR = premRecordd.Is_Reviewed__c;
var selectverNum = parseFloat({!Deal_Hash__c.RDS_Version_Select__c}).toFixed(1);
if(premVer == selectverNum){
premCount++;
if(premRecordd.MACD_Type__c == &apos;D&apos; ){
adderrorMsg += &quot;The version you have selected is associated with a Premise &quot;+premRecordd.Name+&quot; of type Disconnect.\r\n&quot;
adderrorsFound = true;
noerror = false;
}
if(isR == &quot;true&quot; &amp;&amp; premRecordd.MACD_Change_Type__c != &apos;UBB Add&apos; &amp;&amp; premRecordd.MACD_Change_Type__c != &apos;UBB Change&apos; &amp;&amp; premRecordd.MACD_Change_Type__c != &apos;UBB Remove&apos;){
adderrorMsg += &quot;The version you have selected with Premise &quot;+premRecordd.Name+&quot; is already reviewed. Please select a different version.\r\n&quot;
adderrorsFound = true;
noerror = false;
}
if(isR == &quot;true&quot; &amp;&amp; (premRecordd.MACD_Change_Type__c == &apos;UBB Add&apos; || premRecordd.MACD_Change_Type__c == &apos;UBB Change&apos; || premRecordd.MACD_Change_Type__c == &apos;UBB Remove&apos;)){
premUBBCount++;
}
}

}
if(premCount &lt;= 0){
adderrorMsg += &quot;No Premise Record Found for the selected version.&quot;
adderrorsFound = true;
noerror = false;
}
if(premCount == premUBBCount){
adderrorMsg += &quot;All Premise Records of the selected version are related to UBB Add, UBB Change or UBB Remove and do not require Review Complete action.&quot;
adderrorsFound = true;
noerror = false;
}
}
else{
adderrorMsg += &quot;There are no premise record of MACD type Add or Change.\r\n&quot;
adderrorsFound = true;
noerror = false;
}


if(noerror != false){
noerror = true;
}
}

if( selectversion != &quot;1&quot; &amp;&amp; selectversion != &quot;ALL&quot;)
{
addPremiseCheck();
}




if (errorsFound)
{
alert(errorMsg);
}
else if (adderrorsFound)
{
alert(adderrorMsg);
}
else{
dealhashObj.RDS_object_status__c=&apos;Review completed&apos;;
if(noerror == true &amp;&amp; selectversion != &quot;1&quot; &amp;&amp; selectversion != &quot;ALL&quot;)
{
dealhashObj.Is_MACDReviewComplete__c=true;
dealhashObj.Is_Review_Complete_for_Version__c=true;
}
sforce.connection.update([dealhashObj]);

if(noerror == true &amp;&amp; selectversion != &quot;1&quot; &amp;&amp; selectversion != &quot;ALL&quot;)
{
var selectedOptyObj = new sforce.SObject(&quot;Opportunity&quot;);

var selectedOptyRecs = sforce.connection.query(&quot;Select Id,	Review_Check__c,MACD_Review_Complete__c from Opportunity Where Id = &apos;{!Deal_Hash__c.Selected_Opportunity__c}&apos;&quot;);
var selectedOptyArray = selectedOptyRecs.getArray(&quot;records&quot;);

for (var i=0 ; i&lt;selectedOptyArray.length; i++)
{
var selectedOptyRecord =selectedOptyArray[i];
selectedOptyObj.id = selectedOptyRecord.Id;
}
selectedOptyObj.Review_Check__c=true;
selectedOptyObj.MACD_Review_Complete__c=true;
sforce.connection.update([selectedOptyObj]);
}
window.location.href = window.location.href;
}
}
}else{
alert(&apos;Please Select a valid version from the select version picklist.&apos;);
}
}catch(er){
alert(er.message);
}
}</url>
    </webLinks>
    <webLinks>
        <fullName>Retrigger_Create_Deal_Hash</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Retrigger Create Deal Hash</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)};
{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/apex.js&quot;)};  
var profName= &apos;{!$Profile.Name}&apos;; 
var errorMsg = &quot;&quot;; 
var errorsFound = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0) 
{ 
for (var i=0 ; i&lt;opptyCheck.length; i++) 
{ 
var oppRecordName =opptyCheck [i]; 

errorMsg += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot; 
errorsFound = true; 
} 
if (errorsFound ) 
{ 
alert(errorMsg ); 
} 
} 
else{ 

var versionAll = false; 
var dealHashCreationStatus = {!Deal_Hash__c.IsDealHashCreationSuccess__c}; 

var CDHOnOppty = false; 

var CDHOpptyResult = sforce.connection.query(&quot;Select Id,Create_Deal_Hash_Status__c,Update_Deal_Hash_Status__c FROM Opportunity WHERE Id =&apos;{! Deal_Hash__c.OpportunityId__c }&apos; limit 1&quot;); 
var CDHOppArray = CDHOpptyResult .getArray(&quot;records&quot;); 
for (var i=0 ; i&lt;CDHOppArray.length; i++) 
{ 
var CDHOppRecord =CDHOppArray[i]; 
if (CDHOppRecord.Create_Deal_Hash_Status__c == &quot;Failure&quot; || CDHOppRecord.Update_Deal_Hash_Status__c == &quot;Failure&quot;) 
{ 
CDHOnOppty = true; 
} 
if (CDHOppRecord.Create_Deal_Hash_Status__c == &apos;In Progress&apos;){
errorMsg +=&quot;Create Deal Hash in already in Progress.\r\n&quot;; 
errorsFound = true; 
}
if (CDHOppRecord.Create_Deal_Hash_Status__c == null){
errorMsg +=&quot;To Retrigger Create Deal Hash, Create Deal Hash Status must not be empty.\r\n&quot;; 
errorsFound = true; 
}
if (CDHOppRecord.Create_Deal_Hash_Status__c == &apos;Success&apos;){
errorMsg +=&quot;To Retrigger Create Deal Hash, Create Deal Hash Status must not be Success.\r\n&quot;; 
errorsFound = true; 
}
if (dealHashCreationStatus == true)
{
errorMsg +=&quot;To retrigger Create Deal Hash, IsDealHashCreationSuccess checkbox must be unchecked.\r\n&quot;; 
errorsFound = true; 
}
} 
if(profName.trim()== &apos;System Administrator&apos; || profName.trim()== &apos;SI_EBM Admin&apos; || profName.trim()== &apos;SI_EBM_DEV_OPS&apos; || profName.trim()== &apos;SI_EBM Technical Ops&apos; || profName.trim()==&apos;System Admin Read Only(Developers/Testers)&apos;) 
{ 
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;); 
RDSDealHashObj.id = &quot;{!Deal_Hash__c.Id}&quot;; 
var RDSStatus=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;; 
var archivestatus=&apos;{!Deal_Hash__c.Archive_Status__c}&apos;; 
var RDSVersionSelect = &apos;{!Deal_Hash__c.RDS_Version_Select__c}&apos;; 
if(RDSVersionSelect == &apos;ALL&apos;) 
{ 
errorMsg +=&quot;Please select an appropriate Version in RDS Version Select.\r\n&quot;; 
errorsFound = true; 
//versionAll = true; 
} 
if (RDSStatus != &apos;Deal Hash Creation API Failed&apos;)
{
errorMsg +=&quot;To Retrigger Deal Hash, RDS Status must be Deal Hash Creation API Failed.\r\n&quot;; 
errorsFound = true; 
}
if(CDHOnOppty == false){ 
errorMsg +=&quot;In Order to Retrigger Create Deal Hash,Create Deal Hash must be Failed&quot;; 
errorsFound = true; 
} 
if(errorsFound) 
{ 
alert(errorMsg); 
} 
else{ 
sforce.apex.execute(&quot;API_calculateCRDDOnPremise&quot;,&quot;calculateCRDDOnPremise&quot;,{dealHId : &quot;{!Deal_Hash__c.Id}&quot;, version : &quot;{!Deal_Hash__c.RDS_Version_Select__c}&quot;}); 
if(dealHashCreationStatus == true){ 
RDSDealHashObj.Action__c = &apos;UPDATE&apos;; 
}else if(dealHashCreationStatus == false){ 
RDSDealHashObj.Action__c = &apos;NEW&apos;; 
} 
RDSDealHashObj.RDS_object_status__c =&apos;Deal Hash Creation API in Progress&apos;; 
sforce.connection.update([RDSDealHashObj]); 
window.location.href = window.location.href; 
} 
} 
else{ 
alert(&apos;Only EBM Admin, EBM DEV OPS or System Admin can re-trigger the Create Deal Hash Process&apos;); 
}
}</url>
    </webLinks>
    <webLinks>
        <fullName>Retrigger_Encrypted_Password_API</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Retrigger Encrypted Password API</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)};
var profName= &apos;{!$Profile.Name}&apos;;
if(profName.trim()== &apos;System Administrator&apos; || profName.trim()== &apos;SI_EBM Admin&apos; || profName.trim()==&apos;System Admin Read Only(Developers/Testers)&apos;)
{
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;);
var opportunityObj = new sforce.SObject(&quot;Opportunity&quot;); 

RDSDealHashObj.id = &quot;{!Deal_Hash__c.Id}&quot;;

var status = sforce.connection.query(&quot;Select Opportunity__r.API_Process_Status__c From Deal_Hash__c where Id=&apos;{!Deal_Hash__c.Id}&apos;&quot;);

if(status!=&apos;Encrypted Password API in Progress&apos;)
{
RDSDealHashObj.Opportunity__r.API_Process_Status__c=&apos;Encrypted Password API in Progress&apos;;

//sforce.connection.update([RDSDealHashObj]);
sforce.connection.update([opportunityObj]);
window.location.href = window.location.href;
}
}
else
{
alert(&quot;Sorry you don&apos;t have access&quot;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Retrigger_Inflight_Cancel</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Retrigger Inflight Cancel</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)};

var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0)
{
for (var i=0 ; i&lt;opptyCheck.length; i++)
{
var oppRecordName =opptyCheck [i];

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot;
errorsFound1 = true;
}
if (errorsFound1)
{
alert(errorMsg1 );
}
}
else{
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;);
RDSDealHashObj.id = &quot;{!Deal_Hash__c.Id}&quot;;
var HASCancelAPIFailed=&quot;{!Deal_Hash__c.Has_Cancel_Failed__c}&quot;;
var RDSstatus=&quot;{!Deal_Hash__c.RDS_object_status__c}&quot;;
var profName= &apos;{!$Profile.Name}&apos;;
var isContractRenewalLocked = &quot;{!Deal_Hash__c.Contract_Renewal_Lock__c}&quot;;
var isContractRenewalFlow = &quot;{!Deal_Hash__c.isContractRenewalFlow__c}&quot;;

var premCRResult = sforce.connection.query(&quot;SELECT Id,Name,Site_Status__c,Current_Version__c, RDS_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos; AND Current_Version__c = true AND Site_Status__c = &apos;Pending Contact Renewal&apos; &quot;);
var premCRRecordArray = premCRResult.getArray(&quot;records&quot;);

if(profName.trim()== &apos;System Administrator&apos; || profName.trim()==&apos;System Admin Read Only(Developers/Testers)&apos; || profName.trim()== &apos;SI_EBM Admin&apos; || profName.trim()== &apos;SI_EBM_DEV_OPS&apos;){

        if(isContractRenewalFlow == true || premCRRecordArray.length &gt; 0) {
            alert(&apos;Contract renewal flow in the Portal is in progress. Try after some time.&apos;);
        }else if(HASCancelAPIFailed == false) {
            alert(&apos;No Cancel transaction is pending for this Deal Hash&apos;);
        }else if(RDSstatus == &apos;Deal Hash Update - Cancel API In Progress&apos;) {
            alert(&apos;Cancel API Request is already in Progress&apos;);
        }else if(HASCancelAPIFailed == true &amp;&amp; (profName.trim() == &apos;System Administrator&apos; || profName.trim() == &apos;SI_EBM Admin&apos; || profName.trim() == &apos;SI_EBM_DEV_OPS&apos;)) {

            RDSDealHashObj.Archive_requested__c = 1;
            RDSDealHashObj.RDS_object_status__c = &quot;Deal Hash Update - Cancel API In Progress&quot;;
            sforce.connection.update([RDSDealHashObj]);
            window.location.href = window.location.href;
        }
    }else {
        alert(&apos;Only EBM Admin, EBM DEV OPS or System Admin is allowed to Retrigger Cancel Inflight&apos;);
    }
}</url>
    </webLinks>
    <webLinks>
        <fullName>Retrigger_MACD_Update_Deal_Hash</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Retrigger MACD Update Deal Hash</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/connection.js&quot;)}; 
{!REQUIRESCRIPT(&quot;/soap/ajax/29.0/apex.js&quot;)}; 
var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and Manualflow__c=true LIMIT 1&quot;); 
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0) 
{ 
for (var i=0 ; i&lt;opptyCheck.length; i++) 
{ 
var oppRecordName =opptyCheck [i]; 

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot; 
errorsFound1 = true; 
} 
if (errorsFound1) 
{ 
alert(errorMsg1 ); 
} 
} 
else{ 

var profName= &apos;{!$Profile.Name}&apos;; 
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;); 
RDSDealHashObj .id = &quot;{!Deal_Hash__c.Id}&quot;; 
var RDSStatus=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;; 
var archivestatus=&apos;{!Deal_Hash__c.Archive_Status__c}&apos;; 
var rdsVersion = &apos;{!Deal_Hash__c.RDS_Version__c}&apos;; 
var MACDupdatestatus = &apos;{!Deal_Hash__c.MACD_Update_Status__c}&apos;; 
var RDSVersionSelect = &apos;{!Deal_Hash__c.RDS_Version_Select__c}&apos;; 
var dealHashCreationStatus = {!Deal_Hash__c.IsDealHashCreationSuccess__c}; 


if(RDSVersionSelect==&apos;ALL&apos;) 
{ 
alert(&apos;Please select an appropriate Version in RDS Version Select&apos;); 
} 
else if(dealHashCreationStatus == false &amp;&amp; rdsVersion == 1){ 
alert(&apos;Please Click on Create Deal hash button as the deal hash has not yet been created.&apos;); 
} 
else { 
var macdUpdateStatusOnOppty = true; 
var macdOpptyResult = sforce.connection.query(&quot;Select Id, MACD_Update_Deal_hash_Status__c FROM Opportunity WHERE Id =&apos;{!Deal_Hash__c.Selected_Opportunity__c}&apos; limit 1&quot;); 
var macdOppArray = macdOpptyResult.getArray(&quot;records&quot;); 
for (var i=0 ; i&lt;macdOppArray.length; i++) 
{ 
var macdOppRecord =macdOppArray[i]; 
if (macdOppRecord.MACD_Update_Deal_hash_Status__c == &quot;Failed&quot;) 
{ 
macdUpdateStatusOnOppty = false; 
} 
} 

var premDResult = sforce.connection.query(&quot;SELECT Id,Name,Premise_Street_Number__c,Premise_Street_Name__c, MACD_Type__c,Is_Reviewed__c,RDS_Version__c FROM RDS_Premise_Details__c WHERE DealHash__c=&apos;{!Deal_Hash__c.Id}&apos;&quot;); 
var premCount = 0; 
var PmacdType; 
var premRecordArray = premDResult.getArray(&quot;records&quot;); 
if(profName.trim()== &apos;System Administrator&apos; || profName.trim()== &apos;SI_EBM_DEV_OPS&apos; || profName.trim()==&apos;System Admin Read Only(Developers/Testers)&apos;) 
{ 
if(premRecordArray.length &gt;0){ 
for(var i=0 ; i&lt;premRecordArray.length; i++){ 
var premRecordd =premRecordArray[i]; 
PmacdType = premRecordd.MACD_Type__c; 
var premVer = parseFloat(premRecordd.RDS_Version__c).toFixed(1); 
var selectverNum = parseFloat({!Deal_Hash__c.RDS_Version_Select__c}).toFixed(1); 
if(premVer == selectverNum){ 
premCount++; 
} 
} 
if(RDSVersionSelect == 1 || rdsVersion == 1) 
{ 
alert(&apos;This action can only be performed if RDS Version &gt; 1&apos;); 
} 
else if(premCount &lt;= 0){ 
alert(&apos;No Premise Record Found for the selected version.&apos;); 
} 
else if(macdUpdateStatusOnOppty == false &amp;&amp; premCount &gt; 0) 
{ 
sforce.apex.execute(&quot;API_calculateCRDDOnPremise&quot;,&quot;calculateCRDDOnPremise&quot;,{dealHId : &quot;{!Deal_Hash__c.Id}&quot;, version : &quot;{!Deal_Hash__c.RDS_Version_Select__c}&quot;}); 
if(dealHashCreationStatus == true){ 
if(PmacdType==&apos;A&apos;){ 
RDSDealHashObj.Action__c = &apos;ADD_PREMISE&apos;; 
} else if(PmacdType==&apos;D&apos;){ 
RDSDealHashObj.Action__c = &apos;UPDATE_PREMISE&apos;; 
} else if(PmacdType==&apos;C&apos;){ 
RDSDealHashObj.Action__c = &apos;CHANGE_FEATURE&apos;; 
} 
} 

//RDSDealHashObj.RDS_object_status__c =&apos;Deal Hash Creation API in Progress&apos;; 
RDSDealHashObj.MACD_Update_Status__c = &apos;In Progress&apos;; 
RDSDealHashObj.Archive_Status__c = &apos;In Progress&apos;; 
sforce.connection.update([RDSDealHashObj]); 
window.location.href = window.location.href; 
} 
else{ 
alert(&apos;To Retrigger MACD update deal hash, MACD update status for the selected version of Deal Hash should be Failed &apos;); 
} 
} 
} 
else{ 
alert(&apos;Only EBM DEV OPS or System Admin can retrigger the MACD update deal Hash process&apos;); 
} 
}
}</url>
    </webLinks>
    <webLinks>
        <fullName>Retrigger_SA_Contract_Subscription</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Retrigger SA Contract Subscription</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/28.0/connection.js&quot;)}

var dealhashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;);
dealhashObj.id = &quot;{!Deal_Hash__c.Id}&quot;;
var status=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;;
var SAstatus =&apos;{!Deal_Hash__c.IsSAContractSuccess__c}&apos;;
var oppty = &apos;{!Deal_Hash__c.Opportunity__c}&apos;;
var reviewComplete = &apos;{!Deal_Hash__c.IsReviewCompleted__c}&apos;;
var profName= &apos;{!$Profile.Name}&apos;; 
var subacc = &apos;{!Deal_Hash__c.Sub_Account_Number__c}&apos;;
var rateplanId = &apos;{!Deal_Hash__c.Rate_Plan_ID__c}&apos; ;

//var pricingSchedule = sforce.connection.query(&quot;select id,EBM_Signed__c from RDS_Pricing_Schedule_Detail__c where RDS_Pricing_Schedule_Detail__c.Deal__r.Name=&apos;&quot;+oppty +&quot;&apos; and EBM_Signed__c = true&quot;);
//var pricingScheduleRecords = pricingSchedule .getArray(&quot;records&quot;);

var SAStatusOnOppty = false;

var SAOpptyResult = sforce.connection.query(&quot;Select Id,SA_Contract_Subscription_Status__c FROM Opportunity WHERE Id =&apos;{! Deal_Hash__c.OpportunityId__c }&apos; limit 1&quot;);
var SAOppArray = SAOpptyResult.getArray(&quot;records&quot;);

for (var i=0 ; i&lt;SAOppArray.length; i++)
{
var SAOppRecord =SAOppArray[i];

if (SAOppRecord.SA_Contract_Subscription_Status__c == &quot;Failure&quot; || SAOppRecord.SA_Contract_Subscription_Status__c == &quot;&quot; ||SAOppRecord.SA_Contract_Subscription_Status__c == null)
{
SAStatusOnOppty = true;
}
} 

if(profName.trim()== &apos;System Administrator&apos; || profName.trim()== &apos;SI_EBM Admin&apos; || profName.trim()== &apos;SI_EBM_DEV_OPS&apos; || profName.trim()==&apos;System Admin Read Only(Developers/Testers)&apos;){ 
/*if(pricingScheduleRecords.length == 0)
{
alert(&apos;The &quot;EBM signed&quot; checkbox is not checked on the Pricing schedule of related Opportunity.&apos;);
}*/
if({!Opportunity.Manualflow__c}){ 
alert(&apos;The Manual flow flag is checked on Order : {!Opportunity.Name} hence this operation is not allowed&apos;); 
} 
else if(subacc == &apos;&apos;){
alert(&apos;SubAccount is not populated.Please Check to see if CGD/SubAccount call was successsful&apos;);
}
else if(rateplanId == &apos;&apos;){
alert(&apos;Rate Plan Id is not populated.Please Check to see if Deal Rate Plan call was successsful&apos;);
}
else if(status == &apos;SA Contract Subscription API in Progress&apos;)
{
alert(&apos;SA Contract Subscription already in Progress.&apos;);
}
else if(SAStatusOnOppty == false)
{
alert(&apos;In Order to Retrigger SA Contract Subscription,SA Contract Subscription must be Failed.&apos;);
}
else{
dealhashObj.RDS_object_status__c=&apos;SA Contract Subscription API in Progress&apos;;
sforce.connection.update([dealhashObj]);
window.location.href = window.location.href;
}
}

else{
alert(&apos;Only EBM Admin, EBM DEV OPS or System Admin is allowed to Retrigger.&apos;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Update_Deal_Hash</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Update Deal Hash</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)};
{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/apex.js&quot;)}; 
var errorMsg1 = &quot;&quot;; 
var errorsFound1 = false; 
var OppRec = sforce.connection.query(&quot;Select Name,Id from Opportunity Where RDS_Deal_Hash__c = &apos;{!Deal_Hash__c.Id}&apos; and  	Manualflow__c=true LIMIT 1&quot;);
var opptyCheck = OppRec.getArray(&quot;records&quot;); 
if(opptyCheck.length&gt;0)
{
for (var i=0 ; i&lt;opptyCheck.length; i++)
{
var oppRecordName =opptyCheck [i];

errorMsg1 += &quot;The Manual flow flag is checked on Order : &quot;+oppRecordName.Name+&quot; hence this operation is not allowed .\r\n&quot;
errorsFound1 = true;
}
if (errorsFound1)
{
alert(errorMsg1 );
}
}
else{
var RDSStatus=&apos;{!Deal_Hash__c.RDS_object_status__c}&apos;;
var dealHashCreationStatus = {!Deal_Hash__c.IsDealHashCreationSuccess__c};
var isUpdateUser = false;
var userProfile = &apos;{!User.Profile}&apos;;
var premTTrecs = sforce.connection.query(&quot;Select Name,RDS_Version__c,Site_Status__c from RDS_Premise_Details__c Where DealHash__c=&apos;{!Deal_Hash__c.Id}&apos;&quot;);

var premRecordNtt = premTTrecs.getArray(&quot;records&quot;);
var arraylst = [];
var i;
var output = &quot;&quot;;
var arraylist1=[];

for( var i=0; i&lt; premRecordNtt.length ; i++ ){
  
  if(premRecordNtt[i].Site_Status__c == &apos;LOCKED&apos;)
                {
                    arraylist1.push(premRecordNtt[i].Name);
                    output += &quot; Premise is undergoing a change along with list of locked premise IDs &quot;+premRecordNtt[i].Name+&quot;\n&quot;;         
                }
   else {
	   // Logic for Status Other Then Locked 
	   

   }
}

if(userProfile==&apos;SI_EBM_DEV_OPS&apos; || userProfile==&apos;System Admin Read Only(Developers/Testers)&apos; || userProfile==&apos;System Administrator&apos;){
var isUpdateUser = true;

if(isUpdateUser == false){
alert(&apos;Deal Hash Update is not allowed for your profile&apos;);
}
else if(arraylist1.length &gt;0){
alert(&quot;&quot;+output);
}

else if(RDSStatus == &apos;Deal Hash Creation API in Progress&apos;)
{
alert(&apos;Deal Hash creation is already initiated&apos;);
}
else if(RDSStatus == &apos;Deal Hash Creation API Failed&apos;)
{
alert(&apos;Deal Hash Creation/Update has failed. Please Retrigger Deal Hash&apos;);
}
else if(dealHashCreationStatus == false){
alert(&apos;Please Click on Create Deal hash button as the deal hash has not yet been created.&apos;);

}else{
var RDSDealHashObj = new sforce.SObject(&quot;Deal_Hash__c&quot;);
RDSDealHashObj.id = &quot;{!Deal_Hash__c.Id}&quot;;
RDSDealHashObj.Action__c = &apos;UPDATE&apos;;
RDSDealHashObj.RDS_object_status__c =&apos;Deal Hash Creation API in Progress&apos;;
var rdsupdate=sforce.connection.update([RDSDealHashObj]);
window.location.href = window.location.href;

}
}
}</url>
    </webLinks>
</CustomObject>
